<!DOCTYPE html>
<html>
<head>
  <title>less-1.3.3.min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../", thisFile = "Users/jonathangodin/Desktop/CMPSCI326/public/js/less-13.3.min.js", defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>less-1.3.3.min.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<p>LESS - Leaner CSS v1.3.3
<a href='http://lesscss.org'>http://lesscss.org</a></p>

<p>Copyright (c) 2009-2013, Alexis Sellier
Licensed under the Apache 2.0 License.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">less</span><span class="p">[</span><span class="nx">t</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]]}</span><span class="kd">function</span> <span class="nx">f</span><span class="p">(){</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">===</span><span class="s2">&quot;development&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">optimization</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">watchTimer</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">r</span><span class="p">.</span><span class="nx">watchMode</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">S</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(),</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">)})},</span><span class="nx">r</span><span class="p">.</span><span class="nx">poll</span><span class="p">))</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">optimization</span><span class="o">=</span><span class="mi">3</span><span class="p">}</span><span class="kd">function</span> <span class="nx">m</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">type</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">new</span> <span class="nx">r</span><span class="p">.</span><span class="nx">Parser</span><span class="p">({</span><span class="nx">filename</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/#.*$/</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">dumpLineNumbers</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="p">})).</span><span class="nx">parse</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">innerHTML</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">];</span><span class="nx">s</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">styleSheet</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">styleSheet</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">i</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">i</span><span class="p">})}</span><span class="kd">function</span> <span class="nx">g</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">w</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">n</span><span class="p">],</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="p">(</span><span class="nx">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))}</span><span class="kd">function</span> <span class="nx">y</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">hostPart</span><span class="o">!==</span><span class="nx">r</span><span class="p">.</span><span class="nx">hostPart</span><span class="p">)</span><span class="k">return</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">directories</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">directories</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">s</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">directories</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">directories</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span><span class="k">break</span><span class="p">;</span><span class="nx">u</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">directories</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">directories</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">u</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">a</span><span class="o">+=</span><span class="s2">&quot;../&quot;</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">a</span><span class="o">+=</span><span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="p">}</span><span class="kd">function</span> <span class="nx">b</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="sr">/^((?:[a-z-]+:)?\/\/(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="p">{},</span><span class="nx">s</span><span class="o">=</span><span class="p">[],</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">)</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Could not parse sheet href - &#39;&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="nx">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]){</span><span class="nx">u</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">u</span><span class="p">)</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Could not parse page url - &#39;&quot;</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">);</span><span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="nx">r</span><span class="p">[</span><span class="mi">3</span><span class="p">])}</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">3</span><span class="p">]){</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="s2">&quot;\\&quot;</span><span class="p">,</span><span class="s2">&quot;/&quot;</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">)</span><span class="nx">s</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;..&quot;</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">o</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="nx">o</span><span class="o">-=</span><span class="mi">2</span><span class="p">)}</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">hostPart</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="p">.</span><span class="nx">directories</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">fileUrl</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">path</span><span class="o">+</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">url</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">fileUrl</span><span class="o">+</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">i</span><span class="p">}</span><span class="kd">function</span> <span class="nx">w</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">contents</span><span class="o">||</span><span class="p">{},</span><span class="nx">u</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">files</span><span class="o">||</span><span class="p">{},</span><span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">f</span><span class="o">+</span><span class="s2">&quot;:timestamp&quot;</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="p">{</span><span class="nx">css</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">timestamp</span><span class="o">:</span><span class="nx">h</span><span class="p">},</span><span class="nx">d</span><span class="p">;</span><span class="nx">r</span><span class="p">.</span><span class="nx">relativeUrls</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">entryPath</span><span class="o">?</span><span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">+</span><span class="nx">y</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">entryPath</span><span class="p">)).</span><span class="nx">path</span><span class="o">:</span><span class="nx">d</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">:</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">path</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">?</span><span class="nx">d</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">entryPath</span><span class="o">?</span><span class="nx">d</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">entryPath</span><span class="o">:</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="nx">x</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">l</span><span class="p">){</span><span class="nx">v</span><span class="o">+=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/@import .+?;/ig</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">l</span><span class="p">)).</span><span class="nx">valueOf</span><span class="p">()</span><span class="o">===</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">)).</span><span class="nx">valueOf</span><span class="p">())</span><span class="nx">S</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">css</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,{</span><span class="nx">local</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">remaining</span><span class="o">:</span><span class="nx">s</span><span class="p">},</span><span class="nx">f</span><span class="p">);</span><span class="k">else</span> <span class="k">try</span><span class="p">{</span><span class="nx">o</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">,(</span><span class="k">new</span> <span class="nx">r</span><span class="p">.</span><span class="nx">Parser</span><span class="p">({</span><span class="nx">optimization</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">optimization</span><span class="p">,</span><span class="nx">paths</span><span class="o">:</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">path</span><span class="p">],</span><span class="nx">entryPath</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">entryPath</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="nx">mime</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">rootpath</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">relativeUrls</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">relativeUrls</span><span class="p">,</span><span class="nx">contents</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">files</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">dumpLineNumbers</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="p">})).</span><span class="nx">parse</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="k">return</span> <span class="nx">k</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="nx">n</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,{</span><span class="nx">local</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">lastModified</span><span class="o">:</span><span class="nx">l</span><span class="p">,</span><span class="nx">remaining</span><span class="o">:</span><span class="nx">s</span><span class="p">},</span><span class="nx">f</span><span class="p">),</span><span class="nx">N</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;less-error-message:&quot;</span><span class="o">+</span><span class="nx">E</span><span class="p">(</span><span class="nx">f</span><span class="p">)))}</span><span class="k">catch</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span><span class="nx">k</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">f</span><span class="p">)}})}</span><span class="k">catch</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="nx">k</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="p">)}},</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t load &quot;</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">&quot; (&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">)})}</span><span class="kd">function</span> <span class="nx">E</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^[a-z]+:\/\/?[^\/]+/</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\//</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\.[a-zA-Z]+$/</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[^\.\w-]+/g</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\./g</span><span class="p">,</span><span class="s2">&quot;:&quot;</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">S</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="s2">&quot;less:&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">title</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="nx">i</span><span class="p">));</span><span class="k">if</span><span class="p">((</span><span class="nx">r</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span><span class="o">===</span><span class="kc">null</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">media</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">media</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">media</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">s</span><span class="p">;</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">nextSibling</span><span class="o">||</span><span class="kc">null</span><span class="p">;(</span><span class="nx">o</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">o</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">styleSheet</span><span class="p">)</span><span class="k">try</span><span class="p">{</span><span class="nx">r</span><span class="p">.</span><span class="nx">styleSheet</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="nx">e</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">u</span><span class="p">){</span><span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t reassign styleSheet.cssText.&quot;</span><span class="p">)}</span><span class="k">else</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">r</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">nodeValue</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">replaceChild</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">){</span><span class="nx">C</span><span class="p">(</span><span class="s2">&quot;saving &quot;</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot; to cache.&quot;</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="nx">l</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot;:timestamp&quot;</span><span class="p">,</span><span class="nx">n</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">u</span><span class="p">){</span><span class="nx">C</span><span class="p">(</span><span class="s2">&quot;failed to save&quot;</span><span class="p">)}}}</span><span class="kd">function</span> <span class="nx">x</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">status</span><span class="o">&gt;=</span><span class="mi">200</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">status</span><span class="o">&lt;</span><span class="mi">300</span><span class="o">?</span><span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">responseText</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">getResponseHeader</span><span class="p">(</span><span class="s2">&quot;Last-Modified&quot;</span><span class="p">))</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">r</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">status</span><span class="p">,</span><span class="nx">e</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">T</span><span class="p">(),</span><span class="nx">u</span><span class="o">=</span><span class="nx">o</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">fileAsync</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">async</span><span class="p">;</span><span class="k">typeof</span> <span class="nx">s</span><span class="p">.</span><span class="nx">overrideMimeType</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">overrideMimeType</span><span class="p">(</span><span class="s2">&quot;text/css&quot;</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">u</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&quot;Accept&quot;</span><span class="p">,</span><span class="nx">t</span><span class="o">||</span><span class="s2">&quot;text/x-less, text/css; q=0.9, */*; q=0.5&quot;</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="kc">null</span><span class="p">),</span><span class="nx">o</span><span class="o">&amp;&amp;!</span><span class="nx">r</span><span class="p">.</span><span class="nx">fileAsync</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">status</span><span class="o">===</span><span class="mi">0</span><span class="o">||</span><span class="nx">s</span><span class="p">.</span><span class="nx">status</span><span class="o">&gt;=</span><span class="mi">200</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">status</span><span class="o">&lt;</span><span class="mi">300</span><span class="o">?</span><span class="nx">n</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">responseText</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">status</span><span class="p">,</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">u</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">onreadystatechange</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">s</span><span class="p">.</span><span class="nx">readyState</span><span class="o">==</span><span class="mi">4</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">)}</span><span class="o">:</span><span class="nx">a</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">T</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">XMLHttpRequest</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;MSXML2.XMLHTTP.3.0&quot;</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">C</span><span class="p">(</span><span class="s2">&quot;browser doesn&#39;t support AJAX.&quot;</span><span class="p">),</span><span class="kc">null</span><span class="p">}}</span><span class="kd">function</span> <span class="nx">N</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">C</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">==</span><span class="s2">&quot;development&quot;</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">console</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;less: &quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">k</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="s2">&quot;less-error-message:&quot;</span><span class="o">+</span><span class="nx">E</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="s1">&#39;&lt;li&gt;&lt;label&gt;{line}&lt;/label&gt;&lt;pre class=&quot;{class}&quot;&gt;{content}&lt;/pre&gt;&lt;/li&gt;&#39;</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">),</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">filename</span><span class="o">||</span><span class="nx">t</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/([^\/]+(\?.*)?)$/</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span><span class="nx">s</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;less-error-message&quot;</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="s2">&quot;&lt;h3&gt;&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="o">||</span><span class="s2">&quot;There is an error in your .less file&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&lt;/h3&gt;&quot;</span><span class="o">+</span><span class="s1">&#39;&lt;p&gt;in &lt;a href=&quot;&#39;</span><span class="o">+</span><span class="nx">f</span><span class="o">+</span><span class="s1">&#39;&quot;&gt;&#39;</span><span class="o">+</span><span class="nx">l</span><span class="o">+</span><span class="s2">&quot;&lt;/a&gt; &quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">extract</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\{line\}/</span><span class="p">,</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">line</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">t</span><span class="o">-</span><span class="mi">1</span><span class="p">)).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\{class\}/</span><span class="p">,</span><span class="nx">n</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\{content\}/</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">extract</span><span class="p">[</span><span class="nx">t</span><span class="p">]))};</span><span class="nx">e</span><span class="p">.</span><span class="nx">stack</span><span class="o">?</span><span class="nx">u</span><span class="o">+=</span><span class="s2">&quot;&lt;br/&gt;&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">stack</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&lt;br/&gt;&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">extract</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;line&quot;</span><span class="p">),</span><span class="nx">c</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">u</span><span class="o">+=</span><span class="s2">&quot;on line &quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">line</span><span class="o">+</span><span class="s2">&quot;, column &quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">column</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;:&lt;/p&gt;&quot;</span><span class="o">+</span><span class="s2">&quot;&lt;ul&gt;&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&lt;/ul&gt;&quot;</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">u</span><span class="p">,</span><span class="nx">S</span><span class="p">([</span><span class="s2">&quot;.less-error-message ul, .less-error-message li {&quot;</span><span class="p">,</span><span class="s2">&quot;list-style-type: none;&quot;</span><span class="p">,</span><span class="s2">&quot;margin-right: 15px;&quot;</span><span class="p">,</span><span class="s2">&quot;padding: 4px 0;&quot;</span><span class="p">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="p">,</span><span class="s2">&quot;}&quot;</span><span class="p">,</span><span class="s2">&quot;.less-error-message label {&quot;</span><span class="p">,</span><span class="s2">&quot;font-size: 12px;&quot;</span><span class="p">,</span><span class="s2">&quot;margin-right: 15px;&quot;</span><span class="p">,</span><span class="s2">&quot;padding: 4px 0;&quot;</span><span class="p">,</span><span class="s2">&quot;color: #cc7777;&quot;</span><span class="p">,</span><span class="s2">&quot;}&quot;</span><span class="p">,</span><span class="s2">&quot;.less-error-message pre {&quot;</span><span class="p">,</span><span class="s2">&quot;color: #dd6666;&quot;</span><span class="p">,</span><span class="s2">&quot;padding: 4px 0;&quot;</span><span class="p">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="p">,</span><span class="s2">&quot;display: inline-block;&quot;</span><span class="p">,</span><span class="s2">&quot;}&quot;</span><span class="p">,</span><span class="s2">&quot;.less-error-message pre.line {&quot;</span><span class="p">,</span><span class="s2">&quot;color: #ff0000;&quot;</span><span class="p">,</span><span class="s2">&quot;}&quot;</span><span class="p">,</span><span class="s2">&quot;.less-error-message h3 {&quot;</span><span class="p">,</span><span class="s2">&quot;font-size: 20px;&quot;</span><span class="p">,</span><span class="s2">&quot;font-weight: bold;&quot;</span><span class="p">,</span><span class="s2">&quot;padding: 15px 0 5px 0;&quot;</span><span class="p">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="p">,</span><span class="s2">&quot;}&quot;</span><span class="p">,</span><span class="s2">&quot;.less-error-message a {&quot;</span><span class="p">,</span><span class="s2">&quot;color: #10a&quot;</span><span class="p">,</span><span class="s2">&quot;}&quot;</span><span class="p">,</span><span class="s2">&quot;.less-error-message .error {&quot;</span><span class="p">,</span><span class="s2">&quot;color: red;&quot;</span><span class="p">,</span><span class="s2">&quot;font-weight: bold;&quot;</span><span class="p">,</span><span class="s2">&quot;padding-bottom: 2px;&quot;</span><span class="p">,</span><span class="s2">&quot;border-bottom: 1px dashed red;&quot;</span><span class="p">,</span><span class="s2">&quot;}&quot;</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">),{</span><span class="nx">title</span><span class="o">:</span><span class="s2">&quot;error-message&quot;</span><span class="p">}),</span><span class="nx">s</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;font-family: Arial, sans-serif&quot;</span><span class="p">,</span><span class="s2">&quot;border: 1px solid #e00&quot;</span><span class="p">,</span><span class="s2">&quot;background-color: #eee&quot;</span><span class="p">,</span><span class="s2">&quot;border-radius: 5px&quot;</span><span class="p">,</span><span class="s2">&quot;-webkit-border-radius: 5px&quot;</span><span class="p">,</span><span class="s2">&quot;-moz-border-radius: 5px&quot;</span><span class="p">,</span><span class="s2">&quot;color: #e00&quot;</span><span class="p">,</span><span class="s2">&quot;padding: 15px&quot;</span><span class="p">,</span><span class="s2">&quot;margin-bottom: 15px&quot;</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">==</span><span class="s2">&quot;development&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">?</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">replaceChild</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">n</span><span class="p">))</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">),</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">o</span><span class="p">))},</span><span class="mi">10</span><span class="p">))}</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="o">||</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;[object Array]&quot;</span><span class="o">||</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">}),</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="o">||</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;&gt;&gt;</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">)</span><span class="nx">r</span> <span class="k">in</span> <span class="k">this</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">)}),</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">map</span><span class="o">||</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">map</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;&gt;&gt;</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">i</span> <span class="k">in</span> <span class="k">this</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">));</span><span class="k">return</span> <span class="nx">n</span><span class="p">}),</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">filter</span><span class="o">||</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">filter</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="nx">r</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">r</span><span class="p">]);</span><span class="k">return</span> <span class="nx">t</span><span class="p">}),</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reduce</span><span class="o">||</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reduce</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;&gt;&gt;</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="p">)</span><span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;=</span><span class="mi">2</span><span class="p">)</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">else</span> <span class="k">do</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="k">in</span> <span class="k">this</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">n</span><span class="o">++</span><span class="p">];</span><span class="k">break</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">++</span><span class="nx">n</span><span class="o">&gt;=</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="k">for</span><span class="p">(;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">n</span> <span class="k">in</span> <span class="k">this</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="nx">n</span><span class="p">],</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">));</span><span class="k">return</span> <span class="nx">r</span><span class="p">}),</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span><span class="o">||</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">&gt;=</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">+=</span><span class="nx">t</span><span class="p">);</span><span class="k">for</span><span class="p">(;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="p">))</span><span class="k">continue</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">[</span><span class="nx">n</span><span class="p">])</span><span class="k">return</span> <span class="nx">n</span><span class="p">}</span><span class="k">return</span><span class="o">-</span><span class="mi">1</span><span class="p">}),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="o">||</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="k">in</span> <span class="nx">e</span><span class="p">)</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">}),</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span><span class="o">||</span><span class="p">(</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nb">String</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\s\s*/</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s\s*$/</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)});</span><span class="kd">var</span> <span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">;</span><span class="k">typeof</span> <span class="nx">environment</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;</span><span class="p">{}.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">environment</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;[object Environment]&quot;</span><span class="o">?</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="nx">r</span><span class="o">=</span><span class="p">{}</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">less</span><span class="o">=</span><span class="p">{},</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">tree</span><span class="o">=</span><span class="p">{},</span><span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">=</span><span class="s2">&quot;rhino&quot;</span><span class="p">)</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">exports</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;./tree&quot;</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">=</span><span class="s2">&quot;node&quot;</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">less</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">less</span><span class="o">=</span><span class="p">{}),</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">less</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">less</span><span class="p">.</span><span class="nx">tree</span><span class="o">=</span><span class="p">{},</span><span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">=</span><span class="s2">&quot;browser&quot;</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">Parser</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">function</span> <span class="nx">g</span><span class="p">(){</span><span class="nx">a</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">],</span><span class="nx">f</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="p">}</span><span class="kd">function</span> <span class="nx">y</span><span class="p">(){</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="p">}</span><span class="kd">function</span> <span class="nx">b</span><span class="p">(){</span><span class="nx">o</span><span class="o">&gt;</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="nx">o</span><span class="o">-</span><span class="nx">h</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">w</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="o">===</span><span class="mi">32</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="mi">10</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="mi">9</span><span class="p">}</span><span class="kd">function</span> <span class="nx">E</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">parsers</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">)</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="nx">e</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">b</span><span class="p">();</span><span class="k">else</span><span class="p">{</span><span class="nx">b</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">])))</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span> <span class="nx">S</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="nx">t</span><span class="p">}</span><span class="kd">function</span> <span class="nx">S</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">u</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="o">+</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">o</span><span class="o">+=</span><span class="nx">e</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">w</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)))</span><span class="k">break</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">}</span><span class="k">return</span> <span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="nx">o</span><span class="o">-</span><span class="nx">i</span><span class="p">)),</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="o">++</span><span class="p">,</span><span class="nx">t</span><span class="o">!==</span><span class="nx">o</span><span class="o">||</span><span class="nx">n</span><span class="o">!==</span><span class="nx">u</span><span class="p">}</span><span class="kd">function</span> <span class="nx">x</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!!</span><span class="nx">n</span><span class="p">)</span><span class="k">return</span> <span class="nx">n</span><span class="p">;</span><span class="nx">T</span><span class="p">(</span><span class="nx">t</span><span class="o">||</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="s2">&quot;expected &#39;&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot;&#39; got &#39;&quot;</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="o">:</span><span class="s2">&quot;unexpected token&quot;</span><span class="p">))}</span><span class="kd">function</span> <span class="nx">T</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">throw</span> <span class="nx">n</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="s2">&quot;Syntax&quot;</span><span class="p">,</span><span class="nx">n</span><span class="p">}</span><span class="kd">function</span> <span class="nx">N</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="nx">e</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">])</span><span class="o">?!</span><span class="mi">0</span><span class="o">:!</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">C</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">filename</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">filename</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="o">?</span><span class="nx">p</span><span class="p">.</span><span class="nx">imports</span><span class="p">.</span><span class="nx">contents</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">filename</span><span class="p">]</span><span class="o">:</span><span class="nx">s</span><span class="p">}</span><span class="kd">function</span> <span class="nx">k</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span><span class="nx">n</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;\n&quot;</span><span class="p">;</span><span class="nx">n</span><span class="o">--</span><span class="p">)</span><span class="nx">r</span><span class="o">++</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">line</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">?</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">column</span><span class="o">:</span><span class="nx">r</span><span class="p">}}</span><span class="kd">function</span> <span class="nx">L</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">===</span><span class="s2">&quot;browser&quot;</span><span class="o">||</span><span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">===</span><span class="s2">&quot;rhino&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">filename</span><span class="o">:</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">).</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">filename</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">A</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">lineNumber</span><span class="o">:</span><span class="nx">k</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">).</span><span class="nx">line</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">fileName</span><span class="o">:</span><span class="nx">L</span><span class="p">(</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">O</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">C</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">k</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">line</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">column</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="s2">&quot;Syntax&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">filename</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">filename</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">i</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">?</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">callLine</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">,</span><span class="nx">n</span><span class="p">).</span><span class="nx">line</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">callExtract</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">k</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">,</span><span class="nx">n</span><span class="p">).</span><span class="nx">line</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">stack</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">stack</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">column</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">extract</span><span class="o">=</span><span class="p">[</span><span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">o</span><span class="p">[</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]}</span><span class="kd">var</span> <span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="p">{};</span><span class="nx">t</span><span class="p">.</span><span class="nx">contents</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">contents</span><span class="o">=</span><span class="p">{}),</span><span class="nx">t</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">files</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">files</span><span class="o">=</span><span class="p">{});</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="kd">function</span><span class="p">(){},</span><span class="nx">m</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">imports</span><span class="o">=</span><span class="p">{</span><span class="nx">paths</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">paths</span><span class="o">||</span><span class="p">[],</span><span class="nx">queue</span><span class="o">:</span><span class="p">[],</span><span class="nx">files</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">files</span><span class="p">,</span><span class="nx">contents</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">contents</span><span class="p">,</span><span class="nx">mime</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">mime</span><span class="p">,</span><span class="nx">error</span><span class="o">:</span><span class="kc">null</span><span class="p">,</span><span class="nx">push</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">Parser</span><span class="p">.</span><span class="nx">importer</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">paths</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="mi">1</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">s</span> <span class="k">in</span> <span class="nx">i</span><span class="p">.</span><span class="nx">files</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="o">&amp;&amp;!</span><span class="nx">i</span><span class="p">.</span><span class="nx">error</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">error</span><span class="o">=</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">error</span><span class="p">)},</span><span class="nx">t</span><span class="p">)}};</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="o">=</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">optimization</span><span class="o">=</span><span class="s2">&quot;optimization&quot;</span><span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">optimization</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">filename</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">filename</span><span class="o">||</span><span class="kc">null</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="p">{</span><span class="nx">imports</span><span class="o">:</span><span class="nx">m</span><span class="p">,</span><span class="nx">parse</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="p">[],</span><span class="nx">S</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="nx">o</span><span class="o">=</span><span class="nx">u</span><span class="o">=</span><span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\r\n/g</span><span class="p">,</span><span class="s2">&quot;\n&quot;</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\uFEFF/</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="sr">/(?:@\{[\w-]+\}|[^&quot;&#39;`\{\}\/\(\)\\])+/g</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="sr">/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="sr">/&quot;((?:[^&quot;\\\r\n]|\\.)*)&quot;|&#39;((?:[^&#39;\\\r\n]|\\.)*)&#39;|`((?:[^`]|\\.)*)`/g</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">l</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">p</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;){</span><span class="nx">r</span><span class="p">.</span><span class="nx">lastIndex</span><span class="o">=</span><span class="nx">c</span><span class="p">,(</span><span class="nx">a</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">index</span><span class="o">===</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="o">+=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span><span class="nx">h</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">lastIndex</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">lastIndex</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">index</span><span class="o">===</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">+=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="o">===</span><span class="s2">&quot;/&quot;</span><span class="p">){</span><span class="nx">p</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">c</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="o">===</span><span class="s2">&quot;/&quot;</span><span class="o">||</span><span class="nx">p</span><span class="o">===</span><span class="s2">&quot;*&quot;</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">index</span><span class="o">===</span><span class="nx">c</span><span class="p">){</span><span class="nx">c</span><span class="o">+=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">continue</span><span class="p">}}</span><span class="k">switch</span><span class="p">(</span><span class="nx">h</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;{&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">l</span><span class="p">){</span><span class="nx">u</span><span class="o">++</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="k">break</span><span class="p">};</span><span class="k">case</span><span class="s2">&quot;}&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">l</span><span class="p">){</span><span class="nx">u</span><span class="o">--</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">e</span><span class="p">[</span><span class="o">++</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="o">=</span><span class="p">[];</span><span class="k">break</span><span class="p">};</span><span class="k">case</span><span class="s2">&quot;(&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">l</span><span class="p">){</span><span class="nx">l</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="k">break</span><span class="p">};</span><span class="k">case</span><span class="s2">&quot;)&quot;</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">){</span><span class="nx">l</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="k">break</span><span class="p">};</span><span class="k">default</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">)}</span><span class="nx">c</span><span class="o">++</span><span class="p">}</span><span class="k">return</span> <span class="nx">u</span><span class="o">!=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="k">new</span> <span class="nx">O</span><span class="p">({</span><span class="nx">index</span><span class="o">:</span><span class="nx">c</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Parse&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="nx">u</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="s2">&quot;missing closing `}`&quot;</span><span class="o">:</span><span class="s2">&quot;missing opening `{`&quot;</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">},</span><span class="nx">t</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)})}([[]]);</span><span class="k">if</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="nx">f</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">([],</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">parsers</span><span class="p">.</span><span class="nx">primary</span><span class="p">)),</span><span class="nx">f</span><span class="p">.</span><span class="nx">root</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">T</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="k">new</span> <span class="nx">O</span><span class="p">(</span><span class="nx">T</span><span class="p">,</span><span class="nx">t</span><span class="p">))}</span><span class="nx">f</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">;</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="p">[],</span><span class="nx">a</span><span class="p">;</span><span class="nx">s</span><span class="o">=</span><span class="nx">s</span><span class="o">||</span><span class="p">{},</span><span class="k">typeof</span> <span class="nx">o</span><span class="o">==</span><span class="s2">&quot;object&quot;</span><span class="o">&amp;&amp;!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">o</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Value</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Expression</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Expression</span><span class="p">([</span><span class="nx">t</span><span class="p">])),</span><span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Value</span><span class="p">([</span><span class="nx">t</span><span class="p">])),</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">u</span><span class="o">=</span><span class="p">[</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">o</span><span class="p">)]);</span><span class="k">try</span><span class="p">{</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,{</span><span class="nx">frames</span><span class="o">:</span><span class="nx">u</span><span class="p">}).</span><span class="nx">toCSS</span><span class="p">([],{</span><span class="nx">compress</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">compress</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">dumpLineNumbers</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="p">})}</span><span class="k">catch</span><span class="p">(</span><span class="nx">l</span><span class="p">){</span><span class="k">throw</span> <span class="k">new</span> <span class="nx">O</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">imports</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span><span class="k">throw</span> <span class="nx">a</span> <span class="k">instanceof</span> <span class="nx">O</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="k">new</span> <span class="nx">O</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">yuicompress</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">===</span><span class="s2">&quot;node&quot;</span><span class="o">?</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;ycssmin&quot;</span><span class="p">).</span><span class="nx">cssmin</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(\s)+/g</span><span class="p">,</span><span class="s2">&quot;$1&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="p">}}(</span><span class="nx">f</span><span class="p">.</span><span class="nb">eval</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="nx">l</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">),</span><span class="nx">y</span><span class="o">=</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">N</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">C</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span><span class="nx">N</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">N</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;\n&quot;</span><span class="p">;</span><span class="nx">N</span><span class="o">--</span><span class="p">)</span><span class="nx">C</span><span class="o">++</span><span class="p">;</span><span class="nx">x</span><span class="o">=</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Parse&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;Syntax Error on line &quot;</span><span class="o">+</span><span class="nx">y</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">,</span><span class="nx">line</span><span class="o">:</span><span class="nx">y</span><span class="p">,</span><span class="nx">column</span><span class="o">:</span><span class="nx">C</span><span class="p">,</span><span class="nx">extract</span><span class="o">:</span><span class="p">[</span><span class="nx">b</span><span class="p">[</span><span class="nx">y</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="nx">b</span><span class="p">[</span><span class="nx">y</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">b</span><span class="p">[</span><span class="nx">y</span><span class="p">]]}}</span><span class="k">this</span><span class="p">.</span><span class="nx">imports</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">v</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">x</span><span class="o">||</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="o">?</span><span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">f</span><span class="p">)}</span><span class="o">:</span><span class="nx">a</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">f</span><span class="p">)},</span><span class="nx">parsers</span><span class="o">:</span><span class="p">{</span><span class="nx">primary</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="p">[];</span><span class="k">while</span><span class="p">((</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">definition</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rule</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">call</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">comment</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">directive</span><span class="p">))</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[\s\n]+/</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^;+/</span><span class="p">))</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">},</span><span class="nx">comment</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Comment</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\/\/.*/</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Comment</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">entities</span><span class="o">:</span><span class="p">{</span><span class="nx">quoted</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;~&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">++</span><span class="p">,</span><span class="nx">n</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">!==</span><span class="s1">&#39;&quot;&#39;</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^&quot;((?:[^&quot;\\\r\n]|\\.)*)&quot;|&#39;((?:[^&#39;\\\r\n]|\\.)*)&#39;/</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Quoted</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="nx">e</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="p">)},</span><span class="nx">keyword</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[_A-Za-z-][_A-Za-z0-9-]*/</span><span class="p">))</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">colors</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">colors</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">:</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Keyword</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">call</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="sr">/^([\w-]+|%|progid:[\w\.]+)\(/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">])))</span><span class="k">return</span><span class="p">;</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">===</span><span class="s2">&quot;url&quot;</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="nx">o</span><span class="o">+=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">===</span><span class="s2">&quot;alpha&quot;</span><span class="p">){</span><span class="nx">s</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">s</span><span class="o">!=</span><span class="s2">&quot;undefined&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">s</span><span class="p">}</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">arguments</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">)},</span><span class="nx">arguments</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">t</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">assignment</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">break</span><span class="p">}</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">literal</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">ratio</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">dimension</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">color</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">quoted</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">unicodeDescriptor</span><span class="p">)},</span><span class="nx">assignment</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">;</span><span class="k">if</span><span class="p">((</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\w+(?=\s?=)/i</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">)))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Assignment</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)},</span><span class="nx">url</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;u&quot;</span><span class="o">||!</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^url\(/</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">quoted</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variable</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(?:(?:\\[\(\)&#39;&quot;])|[^\(\)&#39;&quot;])+/</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">x</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">),</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">URL</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="o">!=</span><span class="kc">null</span><span class="o">||</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Variable</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">rootpath</span><span class="p">)},</span><span class="nx">variable</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;@&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^@@?[\w-]+/</span><span class="p">)))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Variable</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">)},</span><span class="nx">variableCurly</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;@&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^@\{([\w-]+)\}/</span><span class="p">)))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Variable</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="o">+</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">)},</span><span class="nx">color</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;#&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/</span><span class="p">)))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])},</span><span class="nx">dimension</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">&gt;</span><span class="mi">57</span><span class="o">||</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">43</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="mi">47</span><span class="o">||</span><span class="nx">t</span><span class="o">==</span><span class="mi">44</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^([+-]?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn|dpi|dpcm|dppx|rem|vw|vh|vmin|vm|ch)?/</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="mi">2</span><span class="p">])},</span><span class="nx">ratio</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">&gt;</span><span class="mi">57</span><span class="o">||</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">48</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(\d+\/\d+)/</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Ratio</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">])},</span><span class="nx">unicodeDescriptor</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">UnicodeDescriptor</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">])},</span><span class="nx">javascript</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;~&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">++</span><span class="p">,</span><span class="nx">n</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;`&quot;</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;~&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^`([^`]*)`/</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">JavaScript</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">o</span><span class="p">,</span><span class="nx">n</span><span class="p">)}},</span><span class="nx">variable</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;@&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(@[\w-]+)\s*:/</span><span class="p">)))</span><span class="k">return</span> <span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]},</span><span class="nx">shorthand</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">N</span><span class="p">(</span><span class="sr">/^[@\w.%-]+\/[@\w.-]+/</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="nx">g</span><span class="p">();</span><span class="k">if</span><span class="p">((</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">)))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Shorthand</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="nx">y</span><span class="p">()},</span><span class="nx">mixin</span><span class="o">:</span><span class="p">{</span><span class="nx">call</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="p">[],</span><span class="nx">a</span><span class="o">=</span><span class="p">[],</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">w</span><span class="p">,</span><span class="nx">S</span><span class="p">,</span><span class="nx">C</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">!==</span><span class="s2">&quot;.&quot;</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="o">!==</span><span class="s2">&quot;#&quot;</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="nx">g</span><span class="p">();</span><span class="k">while</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/</span><span class="p">))</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">)),</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)){</span><span class="nx">p</span><span class="o">=</span><span class="p">[];</span><span class="k">while</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">)){</span><span class="nx">h</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">S</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="nx">k</span> <span class="k">instanceof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Variable</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">T</span><span class="p">(</span><span class="s2">&quot;Cannot mix ; and , as delimiter types&quot;</span><span class="p">),</span><span class="nx">v</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">S</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">w</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">name</span><span class="p">)}</span><span class="nx">p</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">S</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="nx">S</span><span class="p">});</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">continue</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">d</span><span class="p">)</span><span class="nx">v</span><span class="o">&amp;&amp;</span><span class="nx">T</span><span class="p">(</span><span class="s2">&quot;Cannot mix ; and , as delimiter types&quot;</span><span class="p">),</span><span class="nx">d</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">S</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="nx">p</span><span class="p">)),</span><span class="nx">u</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="nx">w</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="nx">S</span><span class="p">}),</span><span class="nx">w</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="p">[],</span><span class="nx">v</span><span class="o">=!</span><span class="mi">1</span><span class="p">}</span><span class="nx">x</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)}</span><span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="o">?</span><span class="nx">u</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">important</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">C</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">N</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">,</span><span class="nx">C</span><span class="p">);</span><span class="nx">y</span><span class="p">()},</span><span class="nx">definition</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;.&quot;</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;#&quot;</span><span class="o">||</span><span class="nx">N</span><span class="p">(</span><span class="sr">/^[^{]*\}/</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="nx">g</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/</span><span class="p">)){</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">do</span><span class="p">{</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">comment</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;.&quot;</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\.{3}/</span><span class="p">)){</span><span class="nx">c</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">variadic</span><span class="o">:!</span><span class="mi">0</span><span class="p">});</span><span class="k">break</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variable</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">literal</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">keyword</span><span class="p">)))</span><span class="k">break</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span> <span class="k">instanceof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Variable</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">))</span><span class="nx">a</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">,</span><span class="s2">&quot;expected expression&quot;</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="nx">u</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="nx">a</span><span class="p">});</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\.{3}/</span><span class="p">)){</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="nx">u</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="nx">variadic</span><span class="o">:!</span><span class="mi">0</span><span class="p">}),</span><span class="nx">c</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="nx">u</span><span class="p">.</span><span class="nx">name</span><span class="p">})}</span><span class="k">else</span> <span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span><span class="nx">u</span><span class="p">})}</span><span class="k">while</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">));</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">y</span><span class="p">()),</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">comment</span><span class="p">),</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^when/</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">conditions</span><span class="p">,</span><span class="s2">&quot;expected condition&quot;</span><span class="p">)),</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">block</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Definition</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="nx">y</span><span class="p">()}}},</span><span class="nx">entity</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">literal</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variable</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">call</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">keyword</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">javascript</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">comment</span><span class="p">)},</span><span class="nx">end</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">E</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">N</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)},</span><span class="nx">alpha</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\(opacity=/i</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\d+/</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variable</span><span class="p">))</span><span class="k">return</span> <span class="nx">x</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">),</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Alpha</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">element</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">combinator</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(?:\d+\.\d+|\d+)%/</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attribute</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^\([^()@]+\)/</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[\.#](?=@)/</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variableCurly</span><span class="p">),</span><span class="nx">e</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variableCurly</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variable</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Paren</span><span class="p">(</span><span class="nx">r</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">o</span><span class="p">)},</span><span class="nx">combinator</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">===</span><span class="s2">&quot;&gt;&quot;</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="s2">&quot;+&quot;</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="s2">&quot;~&quot;</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="s2">&quot;|&quot;</span><span class="p">){</span><span class="nx">o</span><span class="o">++</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\s/</span><span class="p">))</span><span class="nx">o</span><span class="o">++</span><span class="p">;</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Combinator</span><span class="p">(</span><span class="nx">t</span><span class="p">)}</span><span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="o">-</span><span class="mi">1</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\s/</span><span class="p">)</span><span class="o">?</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Combinator</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">:</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Combinator</span><span class="p">(</span><span class="kc">null</span><span class="p">)},</span><span class="nx">selector</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">[],</span><span class="nx">r</span><span class="p">,</span><span class="nx">u</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">))</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">),</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span><span class="o">?</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Selector</span><span class="p">([</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">o</span><span class="p">)])</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">)){</span><span class="nx">r</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">===</span><span class="s2">&quot;{&quot;</span><span class="o">||</span><span class="nx">r</span><span class="o">===</span><span class="s2">&quot;}&quot;</span><span class="o">||</span><span class="nx">r</span><span class="o">===</span><span class="s2">&quot;;&quot;</span><span class="o">||</span><span class="nx">r</span><span class="o">===</span><span class="s2">&quot;,&quot;</span><span class="o">||</span><span class="nx">r</span><span class="o">===</span><span class="s2">&quot;)&quot;</span><span class="p">)</span><span class="k">break</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">n</span><span class="p">)},</span><span class="nx">attribute</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(?:[_A-Za-z0-9-]|\\.)+/</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">quoted</span><span class="p">))(</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[|~*$^]?=/</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">quoted</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[\w-]+/</span><span class="p">))</span><span class="o">?</span><span class="nx">e</span><span class="o">=</span><span class="p">[</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">:</span><span class="nx">n</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">))</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="p">},</span><span class="nx">block</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">primary</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">))</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">ruleset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">;</span><span class="nx">g</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">A</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">));</span><span class="k">while</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">comment</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">break</span><span class="p">;</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">comment</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">block</span><span class="p">))){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">strictImports</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">f</span><span class="p">}</span><span class="nx">l</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">y</span><span class="p">()},</span><span class="nx">rule</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">;</span><span class="nx">g</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">===</span><span class="s2">&quot;.&quot;</span><span class="o">||</span><span class="nx">n</span><span class="o">===</span><span class="s2">&quot;#&quot;</span><span class="o">||</span><span class="nx">n</span><span class="o">===</span><span class="s2">&quot;&amp;&quot;</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">variable</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">!=</span><span class="s2">&quot;@&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="sr">/^([^@+\/&#39;&quot;*`(;{}-]*);/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">u</span><span class="p">]))</span><span class="o">?</span><span class="p">(</span><span class="nx">o</span><span class="o">+=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span><span class="o">:</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;font&quot;</span><span class="o">?</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">font</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">important</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="nx">l</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">y</span><span class="p">()}},</span><span class="s2">&quot;import&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="nx">g</span><span class="p">();</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^@import(?:-(once))?\s+/</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">quoted</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">url</span><span class="p">))){</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mediaFeatures</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Import</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="s2">&quot;once&quot;</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">rootpath</span><span class="p">)}</span><span class="nx">y</span><span class="p">()},</span><span class="nx">mediaFeature</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">[];</span><span class="k">do</span> <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">keyword</span><span class="p">))</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)){</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">property</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">))</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">)</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Paren</span><span class="p">(</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)));</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Paren</span><span class="p">(</span><span class="nx">e</span><span class="p">))}}</span><span class="k">while</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Expression</span><span class="p">(</span><span class="nx">n</span><span class="p">)},</span><span class="nx">mediaFeatures</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="p">[];</span><span class="k">do</span> <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mediaFeature</span><span class="p">)){</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">break</span><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variable</span><span class="p">)){</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">break</span><span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">media</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">u</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="nx">A</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^@media/</span><span class="p">)){</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mediaFeatures</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">block</span><span class="p">))</span><span class="k">return</span> <span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Media</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">=</span><span class="nx">u</span><span class="p">),</span><span class="nx">r</span><span class="p">}},</span><span class="nx">directive</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">p</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">!==</span><span class="s2">&quot;@&quot;</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="s2">&quot;import&quot;</span><span class="p">])</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">media</span><span class="p">))</span><span class="k">return</span> <span class="nx">n</span><span class="p">;</span><span class="nx">g</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^@[a-z-]+/</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;-&quot;</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="s2">&quot;@&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span><span class="k">switch</span><span class="p">(</span><span class="nx">l</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;@font-face&quot;</span><span class="o">:</span><span class="nx">c</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;@viewport&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@top-left&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@top-left-corner&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@top-center&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@top-right&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@top-right-corner&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@bottom-left&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@bottom-left-corner&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@bottom-center&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@bottom-right&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@bottom-right-corner&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@left-top&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@left-middle&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@left-bottom&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@right-top&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@right-middle&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@right-bottom&quot;</span><span class="o">:</span><span class="nx">c</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;@page&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@document&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@supports&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;@keyframes&quot;</span><span class="o">:</span><span class="nx">c</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;@namespace&quot;</span><span class="o">:</span><span class="nx">p</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">+=</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[^{]+/</span><span class="p">)</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">trim</span><span class="p">());</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">block</span><span class="p">))</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Directive</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">)}</span><span class="k">else</span> <span class="k">if</span><span class="p">((</span><span class="nx">n</span><span class="o">=</span><span class="nx">p</span><span class="o">?</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">)</span><span class="o">:</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Directive</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">=</span><span class="nx">A</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">)),</span><span class="nx">d</span><span class="p">}</span><span class="nx">y</span><span class="p">()},</span><span class="nx">font</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">t</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">shorthand</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">))</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Expression</span><span class="p">(</span><span class="nx">t</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">while</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">break</span><span class="p">}</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">)){</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span><span class="k">break</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="nx">t</span><span class="p">)},</span><span class="nx">important</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;!&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">E</span><span class="p">(</span><span class="sr">/^! *important/</span><span class="p">)},</span><span class="nx">sub</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">))</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">multiplication</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">operand</span><span class="p">)){</span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="nx">N</span><span class="p">(</span><span class="sr">/^\/[*\/]/</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">operand</span><span class="p">)))</span><span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Operation</span><span class="p">(</span><span class="nx">n</span><span class="p">,[</span><span class="nx">r</span><span class="o">||</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">]);</span><span class="k">return</span> <span class="nx">r</span><span class="o">||</span><span class="nx">e</span><span class="p">}},</span><span class="nx">addition</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">multiplication</span><span class="p">)){</span><span class="k">while</span><span class="p">((</span><span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^[-+]\s+/</span><span class="p">)</span><span class="o">||!</span><span class="nx">w</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">multiplication</span><span class="p">)))</span><span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Operation</span><span class="p">(</span><span class="nx">n</span><span class="p">,[</span><span class="nx">r</span><span class="o">||</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">]);</span><span class="k">return</span> <span class="nx">r</span><span class="o">||</span><span class="nx">e</span><span class="p">}},</span><span class="nx">conditions</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">condition</span><span class="p">)){</span><span class="k">while</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">condition</span><span class="p">)))</span><span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Condition</span><span class="p">(</span><span class="s2">&quot;or&quot;</span><span class="p">,</span><span class="nx">r</span><span class="o">||</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span> <span class="nx">r</span><span class="o">||</span><span class="nx">e</span><span class="p">}},</span><span class="nx">condition</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^not/</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">x</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">addition</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">keyword</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">quoted</span><span class="p">))</span><span class="k">return</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(?:&gt;=|=&lt;|[&lt;=&gt;])/</span><span class="p">))</span><span class="o">?</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">addition</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">keyword</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">quoted</span><span class="p">))</span><span class="o">?</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Condition</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">u</span><span class="p">)</span><span class="o">:</span><span class="nx">T</span><span class="p">(</span><span class="s2">&quot;expected expression&quot;</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Condition</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Keyword</span><span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">),</span><span class="nx">s</span><span class="p">,</span><span class="nx">u</span><span class="p">),</span><span class="nx">x</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">),</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^and/</span><span class="p">)</span><span class="o">?</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Condition</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">condition</span><span class="p">))</span><span class="o">:</span><span class="nx">n</span><span class="p">},</span><span class="nx">operand</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;-&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">===</span><span class="s2">&quot;@&quot;</span><span class="o">||</span><span class="nx">t</span><span class="o">===</span><span class="s2">&quot;(&quot;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">));</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sub</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">dimension</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">color</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">variable</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entities</span><span class="p">.</span><span class="nx">call</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="o">?</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Operation</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,[</span><span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nx">n</span><span class="p">])</span><span class="o">:</span><span class="nx">n</span><span class="p">},</span><span class="nx">expression</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">[],</span><span class="nx">r</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">addition</span><span class="p">)</span><span class="o">||</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">entity</span><span class="p">))</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">i</span><span class="p">.</span><span class="nx">Expression</span><span class="p">(</span><span class="nx">n</span><span class="p">)},</span><span class="nx">property</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="sr">/^(\*?-?[_a-z0-9-]+)\s*:/</span><span class="p">))</span><span class="k">return</span> <span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]}}}};</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">===</span><span class="s2">&quot;browser&quot;</span><span class="o">||</span><span class="nx">r</span><span class="p">.</span><span class="nx">mode</span><span class="o">===</span><span class="s2">&quot;rhino&quot;</span><span class="p">)</span><span class="nx">r</span><span class="p">.</span><span class="nx">Parser</span><span class="p">.</span><span class="nx">importer</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="o">!</span><span class="sr">/^([a-z-]+:)?\//</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">w</span><span class="p">({</span><span class="nx">href</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">type</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">mime</span><span class="p">,</span><span class="nx">contents</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">contents</span><span class="p">,</span><span class="nx">files</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">files</span><span class="p">,</span><span class="nx">rootpath</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">rootpath</span><span class="p">,</span><span class="nx">entryPath</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">entryPath</span><span class="p">,</span><span class="nx">relativeUrls</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">relativeUrls</span><span class="p">},</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="k">typeof</span> <span class="nx">r</span><span class="p">.</span><span class="nx">errback</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">errback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="o">!</span><span class="mi">0</span><span class="p">)};(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">functions</span><span class="p">.</span><span class="nx">hsla</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">l</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">a</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">unit</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">?</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">*</span><span class="nx">n</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span><span class="o">:</span><span class="nx">r</span><span class="p">(</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">r</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">)</span><span class="k">return</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">unit</span><span class="o">==</span><span class="s2">&quot;%&quot;</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">t</span><span class="p">;</span><span class="k">throw</span><span class="p">{</span><span class="nx">error</span><span class="o">:</span><span class="s2">&quot;RuntimeError&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;color functions take numbers as parameters&quot;</span><span class="p">}}</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">))}</span><span class="nx">e</span><span class="p">.</span><span class="nx">functions</span><span class="o">=</span><span class="p">{</span><span class="nx">rgb</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span><span class="nx">rgba</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="p">[</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">256</span><span class="p">)});</span><span class="k">return</span> <span class="nx">o</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="nx">o</span><span class="p">)},</span><span class="nx">hsl</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span><span class="nx">hsla</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">function</span> <span class="nx">u</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="o">:</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="o">*</span><span class="mi">6</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">o</span><span class="o">+</span><span class="p">(</span><span class="nx">s</span><span class="o">-</span><span class="nx">o</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="mi">6</span><span class="o">:</span><span class="nx">e</span><span class="o">*</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">s</span><span class="o">:</span><span class="nx">e</span><span class="o">*</span><span class="mi">3</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">?</span><span class="nx">o</span><span class="o">+</span><span class="p">(</span><span class="nx">s</span><span class="o">-</span><span class="nx">o</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">-</span><span class="nx">e</span><span class="p">)</span><span class="o">*</span><span class="mi">6</span><span class="o">:</span><span class="nx">o</span><span class="p">}</span><span class="nx">e</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">%</span><span class="mi">360</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="o">&lt;=</span><span class="p">.</span><span class="mi">5</span><span class="o">?</span><span class="nx">n</span><span class="o">*</span><span class="p">(</span><span class="nx">t</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="o">+</span><span class="nx">t</span><span class="o">-</span><span class="nx">n</span><span class="o">*</span><span class="nx">t</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">n</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="nx">s</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(</span><span class="nx">u</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span><span class="nx">u</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span><span class="nx">u</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">hsv</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsva</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span><span class="nx">hsva</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">%</span><span class="mi">360</span><span class="o">/</span><span class="mi">360</span><span class="o">*</span><span class="mi">360</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">var</span> <span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">e</span><span class="o">/</span><span class="mi">60</span><span class="o">%</span><span class="mi">6</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="o">/</span><span class="mi">60</span><span class="o">-</span><span class="nx">s</span><span class="p">;</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="p">[</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">o</span><span class="o">*</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">o</span><span class="p">)</span><span class="o">*</span><span class="nx">t</span><span class="p">)],</span><span class="nx">a</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]];</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="nx">a</span><span class="p">[</span><span class="nx">s</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span><span class="nx">u</span><span class="p">[</span><span class="nx">a</span><span class="p">[</span><span class="nx">s</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span><span class="nx">u</span><span class="p">[</span><span class="nx">a</span><span class="p">[</span><span class="nx">s</span><span class="p">][</span><span class="mi">2</span><span class="p">]]</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">hue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">().</span><span class="nx">h</span><span class="p">))},</span><span class="nx">saturation</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">().</span><span class="nx">s</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;%&quot;</span><span class="p">)},</span><span class="nx">lightness</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">().</span><span class="nx">l</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;%&quot;</span><span class="p">)},</span><span class="nx">red</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])},</span><span class="nx">green</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])},</span><span class="nx">blue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])},</span><span class="nx">alpha</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">().</span><span class="nx">a</span><span class="p">)},</span><span class="nx">luma</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">((.</span><span class="mi">2126</span><span class="o">*</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span><span class="o">+</span><span class="p">.</span><span class="mi">7152</span><span class="o">*</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span><span class="o">+</span><span class="p">.</span><span class="mi">0722</span><span class="o">*</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">))</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">alpha</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;%&quot;</span><span class="p">)},</span><span class="nx">saturate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">();</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">s</span><span class="o">+=</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">s</span><span class="p">),</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">desaturate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">();</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">s</span><span class="o">-=</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">s</span><span class="p">),</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">lighten</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">();</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">l</span><span class="o">+=</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">l</span><span class="p">),</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">darken</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">();</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">l</span><span class="o">-=</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">l</span><span class="p">),</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">fadein</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">();</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="o">+=</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="p">),</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">fadeout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">();</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="o">-=</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="p">),</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">fade</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">();</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">a</span><span class="p">),</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">spin</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">(),</span><span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">h</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">%</span><span class="mi">360</span><span class="p">;</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="mi">360</span><span class="o">+</span><span class="nx">i</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">t</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="nx">mix</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="nx">r</span><span class="o">||</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="mi">50</span><span class="p">));</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">value</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">().</span><span class="nx">a</span><span class="o">-</span><span class="nx">n</span><span class="p">.</span><span class="nx">toHSL</span><span class="p">().</span><span class="nx">a</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="p">((</span><span class="nx">s</span><span class="o">*</span><span class="nx">o</span><span class="o">==-</span><span class="mi">1</span><span class="o">?</span><span class="nx">s</span><span class="o">:</span><span class="p">(</span><span class="nx">s</span><span class="o">+</span><span class="nx">o</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="nx">s</span><span class="o">*</span><span class="nx">o</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="nx">u</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="p">[</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">u</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">u</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nx">u</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nx">a</span><span class="p">],</span><span class="nx">l</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">alpha</span><span class="o">*</span><span class="nx">i</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">alpha</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">i</span><span class="p">);</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">)},</span><span class="nx">greyscale</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">desaturate</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="mi">100</span><span class="p">))},</span><span class="nx">contrast</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="o">?</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">n</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span><span class="k">typeof</span> <span class="nx">r</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="nx">r</span><span class="o">=</span><span class="p">.</span><span class="mi">43</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">value</span><span class="p">,(.</span><span class="mi">2126</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span><span class="o">+</span><span class="p">.</span><span class="mi">7152</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">)</span><span class="o">+</span><span class="p">.</span><span class="mi">0722</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">))</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">alpha</span><span class="o">&lt;</span><span class="nx">r</span><span class="o">?</span><span class="nx">n</span><span class="o">:</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">e</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">JavaScript</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">evaluated</span><span class="o">:</span><span class="nx">t</span><span class="p">)},</span><span class="nx">escape</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nb">encodeURI</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/=/g</span><span class="p">,</span><span class="s2">&quot;%3D&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/:/g</span><span class="p">,</span><span class="s2">&quot;%3A&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/#/g</span><span class="p">,</span><span class="s2">&quot;%23&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/;/g</span><span class="p">,</span><span class="s2">&quot;%3B&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\(/g</span><span class="p">,</span><span class="s2">&quot;%28&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\)/g</span><span class="p">,</span><span class="s2">&quot;%29&quot;</span><span class="p">))},</span><span class="s2">&quot;%&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">r</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%[sda]/i</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/s/i</span><span class="p">)</span><span class="o">?</span><span class="nx">n</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span><span class="o">:</span><span class="nx">n</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">toCSS</span><span class="p">();</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/[A-Z]$/</span><span class="p">)</span><span class="o">?</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span><span class="p">});</span><span class="k">return</span> <span class="nx">r</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/%%/g</span><span class="p">,</span><span class="s2">&quot;%&quot;</span><span class="p">),</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="o">+</span><span class="nx">r</span><span class="o">+</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span><span class="nx">r</span><span class="p">)},</span><span class="nx">unit</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="nx">n</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">round</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_math</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="nx">n</span><span class="p">)},</span><span class="nx">e</span><span class="p">)},</span><span class="nx">ceil</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_math</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">,</span><span class="nx">e</span><span class="p">)},</span><span class="nx">floor</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_math</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">,</span><span class="nx">e</span><span class="p">)},</span><span class="nx">_math</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">t</span><span class="p">(</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="p">)),</span><span class="nx">n</span><span class="p">.</span><span class="nx">unit</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">n</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">t</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Argument&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;argument must be a number&quot;</span><span class="p">}},</span><span class="nx">argb</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toARGB</span><span class="p">())},</span><span class="nx">percentage</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="s2">&quot;%&quot;</span><span class="p">)},</span><span class="nx">color</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="p">)</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Argument&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;argument must be a string&quot;</span><span class="p">}},</span><span class="nx">iscolor</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_isa</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">)},</span><span class="nx">isnumber</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_isa</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">)},</span><span class="nx">isstring</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_isa</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="p">)},</span><span class="nx">iskeyword</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_isa</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">Keyword</span><span class="p">)},</span><span class="nx">isurl</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_isa</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">URL</span><span class="p">)},</span><span class="nx">ispixel</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">unit</span><span class="o">===</span><span class="s2">&quot;px&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">True</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">False</span><span class="p">},</span><span class="nx">ispercentage</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">unit</span><span class="o">===</span><span class="s2">&quot;%&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">True</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">False</span><span class="p">},</span><span class="nx">isem</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">unit</span><span class="o">===</span><span class="s2">&quot;em&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">True</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">False</span><span class="p">},</span><span class="nx">_isa</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">n</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">True</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">False</span><span class="p">},</span><span class="nx">multiply</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">screen</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">255</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="mi">255</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">255</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">overlay</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">128</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="o">:</span><span class="mi">255</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">128</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="o">:</span><span class="mi">255</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">128</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="o">:</span><span class="mi">255</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">softlight</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="o">-</span><span class="nx">n</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="o">-</span><span class="nx">n</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="o">-</span><span class="nx">n</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">)},</span><span class="nx">hardlight</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">128</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="o">:</span><span class="mi">255</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">128</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="o">:</span><span class="mi">255</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">128</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="o">:</span><span class="mi">255</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">difference</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">r</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">exclusion</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">255</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">average</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">negation</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">255</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">r</span><span class="o">=</span><span class="mi">255</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">i</span><span class="o">=</span><span class="mi">255</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="mi">255</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">tint</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mix</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)},</span><span class="nx">shade</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">mix</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}}})(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;./tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">colors</span><span class="o">=</span><span class="p">{</span><span class="nx">aliceblue</span><span class="o">:</span><span class="s2">&quot;#f0f8ff&quot;</span><span class="p">,</span><span class="nx">antiquewhite</span><span class="o">:</span><span class="s2">&quot;#faebd7&quot;</span><span class="p">,</span><span class="nx">aqua</span><span class="o">:</span><span class="s2">&quot;#00ffff&quot;</span><span class="p">,</span><span class="nx">aquamarine</span><span class="o">:</span><span class="s2">&quot;#7fffd4&quot;</span><span class="p">,</span><span class="nx">azure</span><span class="o">:</span><span class="s2">&quot;#f0ffff&quot;</span><span class="p">,</span><span class="nx">beige</span><span class="o">:</span><span class="s2">&quot;#f5f5dc&quot;</span><span class="p">,</span><span class="nx">bisque</span><span class="o">:</span><span class="s2">&quot;#ffe4c4&quot;</span><span class="p">,</span><span class="nx">black</span><span class="o">:</span><span class="s2">&quot;#000000&quot;</span><span class="p">,</span><span class="nx">blanchedalmond</span><span class="o">:</span><span class="s2">&quot;#ffebcd&quot;</span><span class="p">,</span><span class="nx">blue</span><span class="o">:</span><span class="s2">&quot;#0000ff&quot;</span><span class="p">,</span><span class="nx">blueviolet</span><span class="o">:</span><span class="s2">&quot;#8a2be2&quot;</span><span class="p">,</span><span class="nx">brown</span><span class="o">:</span><span class="s2">&quot;#a52a2a&quot;</span><span class="p">,</span><span class="nx">burlywood</span><span class="o">:</span><span class="s2">&quot;#deb887&quot;</span><span class="p">,</span><span class="nx">cadetblue</span><span class="o">:</span><span class="s2">&quot;#5f9ea0&quot;</span><span class="p">,</span><span class="nx">chartreuse</span><span class="o">:</span><span class="s2">&quot;#7fff00&quot;</span><span class="p">,</span><span class="nx">chocolate</span><span class="o">:</span><span class="s2">&quot;#d2691e&quot;</span><span class="p">,</span><span class="nx">coral</span><span class="o">:</span><span class="s2">&quot;#ff7f50&quot;</span><span class="p">,</span><span class="nx">cornflowerblue</span><span class="o">:</span><span class="s2">&quot;#6495ed&quot;</span><span class="p">,</span><span class="nx">cornsilk</span><span class="o">:</span><span class="s2">&quot;#fff8dc&quot;</span><span class="p">,</span><span class="nx">crimson</span><span class="o">:</span><span class="s2">&quot;#dc143c&quot;</span><span class="p">,</span><span class="nx">cyan</span><span class="o">:</span><span class="s2">&quot;#00ffff&quot;</span><span class="p">,</span><span class="nx">darkblue</span><span class="o">:</span><span class="s2">&quot;#00008b&quot;</span><span class="p">,</span><span class="nx">darkcyan</span><span class="o">:</span><span class="s2">&quot;#008b8b&quot;</span><span class="p">,</span><span class="nx">darkgoldenrod</span><span class="o">:</span><span class="s2">&quot;#b8860b&quot;</span><span class="p">,</span><span class="nx">darkgray</span><span class="o">:</span><span class="s2">&quot;#a9a9a9&quot;</span><span class="p">,</span><span class="nx">darkgrey</span><span class="o">:</span><span class="s2">&quot;#a9a9a9&quot;</span><span class="p">,</span><span class="nx">darkgreen</span><span class="o">:</span><span class="s2">&quot;#006400&quot;</span><span class="p">,</span><span class="nx">darkkhaki</span><span class="o">:</span><span class="s2">&quot;#bdb76b&quot;</span><span class="p">,</span><span class="nx">darkmagenta</span><span class="o">:</span><span class="s2">&quot;#8b008b&quot;</span><span class="p">,</span><span class="nx">darkolivegreen</span><span class="o">:</span><span class="s2">&quot;#556b2f&quot;</span><span class="p">,</span><span class="nx">darkorange</span><span class="o">:</span><span class="s2">&quot;#ff8c00&quot;</span><span class="p">,</span><span class="nx">darkorchid</span><span class="o">:</span><span class="s2">&quot;#9932cc&quot;</span><span class="p">,</span><span class="nx">darkred</span><span class="o">:</span><span class="s2">&quot;#8b0000&quot;</span><span class="p">,</span><span class="nx">darksalmon</span><span class="o">:</span><span class="s2">&quot;#e9967a&quot;</span><span class="p">,</span><span class="nx">darkseagreen</span><span class="o">:</span><span class="s2">&quot;#8fbc8f&quot;</span><span class="p">,</span><span class="nx">darkslateblue</span><span class="o">:</span><span class="s2">&quot;#483d8b&quot;</span><span class="p">,</span><span class="nx">darkslategray</span><span class="o">:</span><span class="s2">&quot;#2f4f4f&quot;</span><span class="p">,</span><span class="nx">darkslategrey</span><span class="o">:</span><span class="s2">&quot;#2f4f4f&quot;</span><span class="p">,</span><span class="nx">darkturquoise</span><span class="o">:</span><span class="s2">&quot;#00ced1&quot;</span><span class="p">,</span><span class="nx">darkviolet</span><span class="o">:</span><span class="s2">&quot;#9400d3&quot;</span><span class="p">,</span><span class="nx">deeppink</span><span class="o">:</span><span class="s2">&quot;#ff1493&quot;</span><span class="p">,</span><span class="nx">deepskyblue</span><span class="o">:</span><span class="s2">&quot;#00bfff&quot;</span><span class="p">,</span><span class="nx">dimgray</span><span class="o">:</span><span class="s2">&quot;#696969&quot;</span><span class="p">,</span><span class="nx">dimgrey</span><span class="o">:</span><span class="s2">&quot;#696969&quot;</span><span class="p">,</span><span class="nx">dodgerblue</span><span class="o">:</span><span class="s2">&quot;#1e90ff&quot;</span><span class="p">,</span><span class="nx">firebrick</span><span class="o">:</span><span class="s2">&quot;#b22222&quot;</span><span class="p">,</span><span class="nx">floralwhite</span><span class="o">:</span><span class="s2">&quot;#fffaf0&quot;</span><span class="p">,</span><span class="nx">forestgreen</span><span class="o">:</span><span class="s2">&quot;#228b22&quot;</span><span class="p">,</span><span class="nx">fuchsia</span><span class="o">:</span><span class="s2">&quot;#ff00ff&quot;</span><span class="p">,</span><span class="nx">gainsboro</span><span class="o">:</span><span class="s2">&quot;#dcdcdc&quot;</span><span class="p">,</span><span class="nx">ghostwhite</span><span class="o">:</span><span class="s2">&quot;#f8f8ff&quot;</span><span class="p">,</span><span class="nx">gold</span><span class="o">:</span><span class="s2">&quot;#ffd700&quot;</span><span class="p">,</span><span class="nx">goldenrod</span><span class="o">:</span><span class="s2">&quot;#daa520&quot;</span><span class="p">,</span><span class="nx">gray</span><span class="o">:</span><span class="s2">&quot;#808080&quot;</span><span class="p">,</span><span class="nx">grey</span><span class="o">:</span><span class="s2">&quot;#808080&quot;</span><span class="p">,</span><span class="nx">green</span><span class="o">:</span><span class="s2">&quot;#008000&quot;</span><span class="p">,</span><span class="nx">greenyellow</span><span class="o">:</span><span class="s2">&quot;#adff2f&quot;</span><span class="p">,</span><span class="nx">honeydew</span><span class="o">:</span><span class="s2">&quot;#f0fff0&quot;</span><span class="p">,</span><span class="nx">hotpink</span><span class="o">:</span><span class="s2">&quot;#ff69b4&quot;</span><span class="p">,</span><span class="nx">indianred</span><span class="o">:</span><span class="s2">&quot;#cd5c5c&quot;</span><span class="p">,</span><span class="nx">indigo</span><span class="o">:</span><span class="s2">&quot;#4b0082&quot;</span><span class="p">,</span><span class="nx">ivory</span><span class="o">:</span><span class="s2">&quot;#fffff0&quot;</span><span class="p">,</span><span class="nx">khaki</span><span class="o">:</span><span class="s2">&quot;#f0e68c&quot;</span><span class="p">,</span><span class="nx">lavender</span><span class="o">:</span><span class="s2">&quot;#e6e6fa&quot;</span><span class="p">,</span><span class="nx">lavenderblush</span><span class="o">:</span><span class="s2">&quot;#fff0f5&quot;</span><span class="p">,</span><span class="nx">lawngreen</span><span class="o">:</span><span class="s2">&quot;#7cfc00&quot;</span><span class="p">,</span><span class="nx">lemonchiffon</span><span class="o">:</span><span class="s2">&quot;#fffacd&quot;</span><span class="p">,</span><span class="nx">lightblue</span><span class="o">:</span><span class="s2">&quot;#add8e6&quot;</span><span class="p">,</span><span class="nx">lightcoral</span><span class="o">:</span><span class="s2">&quot;#f08080&quot;</span><span class="p">,</span><span class="nx">lightcyan</span><span class="o">:</span><span class="s2">&quot;#e0ffff&quot;</span><span class="p">,</span><span class="nx">lightgoldenrodyellow</span><span class="o">:</span><span class="s2">&quot;#fafad2&quot;</span><span class="p">,</span><span class="nx">lightgray</span><span class="o">:</span><span class="s2">&quot;#d3d3d3&quot;</span><span class="p">,</span><span class="nx">lightgrey</span><span class="o">:</span><span class="s2">&quot;#d3d3d3&quot;</span><span class="p">,</span><span class="nx">lightgreen</span><span class="o">:</span><span class="s2">&quot;#90ee90&quot;</span><span class="p">,</span><span class="nx">lightpink</span><span class="o">:</span><span class="s2">&quot;#ffb6c1&quot;</span><span class="p">,</span><span class="nx">lightsalmon</span><span class="o">:</span><span class="s2">&quot;#ffa07a&quot;</span><span class="p">,</span><span class="nx">lightseagreen</span><span class="o">:</span><span class="s2">&quot;#20b2aa&quot;</span><span class="p">,</span><span class="nx">lightskyblue</span><span class="o">:</span><span class="s2">&quot;#87cefa&quot;</span><span class="p">,</span><span class="nx">lightslategray</span><span class="o">:</span><span class="s2">&quot;#778899&quot;</span><span class="p">,</span><span class="nx">lightslategrey</span><span class="o">:</span><span class="s2">&quot;#778899&quot;</span><span class="p">,</span><span class="nx">lightsteelblue</span><span class="o">:</span><span class="s2">&quot;#b0c4de&quot;</span><span class="p">,</span><span class="nx">lightyellow</span><span class="o">:</span><span class="s2">&quot;#ffffe0&quot;</span><span class="p">,</span><span class="nx">lime</span><span class="o">:</span><span class="s2">&quot;#00ff00&quot;</span><span class="p">,</span><span class="nx">limegreen</span><span class="o">:</span><span class="s2">&quot;#32cd32&quot;</span><span class="p">,</span><span class="nx">linen</span><span class="o">:</span><span class="s2">&quot;#faf0e6&quot;</span><span class="p">,</span><span class="nx">magenta</span><span class="o">:</span><span class="s2">&quot;#ff00ff&quot;</span><span class="p">,</span><span class="nx">maroon</span><span class="o">:</span><span class="s2">&quot;#800000&quot;</span><span class="p">,</span><span class="nx">mediumaquamarine</span><span class="o">:</span><span class="s2">&quot;#66cdaa&quot;</span><span class="p">,</span><span class="nx">mediumblue</span><span class="o">:</span><span class="s2">&quot;#0000cd&quot;</span><span class="p">,</span><span class="nx">mediumorchid</span><span class="o">:</span><span class="s2">&quot;#ba55d3&quot;</span><span class="p">,</span><span class="nx">mediumpurple</span><span class="o">:</span><span class="s2">&quot;#9370d8&quot;</span><span class="p">,</span><span class="nx">mediumseagreen</span><span class="o">:</span><span class="s2">&quot;#3cb371&quot;</span><span class="p">,</span><span class="nx">mediumslateblue</span><span class="o">:</span><span class="s2">&quot;#7b68ee&quot;</span><span class="p">,</span><span class="nx">mediumspringgreen</span><span class="o">:</span><span class="s2">&quot;#00fa9a&quot;</span><span class="p">,</span><span class="nx">mediumturquoise</span><span class="o">:</span><span class="s2">&quot;#48d1cc&quot;</span><span class="p">,</span><span class="nx">mediumvioletred</span><span class="o">:</span><span class="s2">&quot;#c71585&quot;</span><span class="p">,</span><span class="nx">midnightblue</span><span class="o">:</span><span class="s2">&quot;#191970&quot;</span><span class="p">,</span><span class="nx">mintcream</span><span class="o">:</span><span class="s2">&quot;#f5fffa&quot;</span><span class="p">,</span><span class="nx">mistyrose</span><span class="o">:</span><span class="s2">&quot;#ffe4e1&quot;</span><span class="p">,</span><span class="nx">moccasin</span><span class="o">:</span><span class="s2">&quot;#ffe4b5&quot;</span><span class="p">,</span><span class="nx">navajowhite</span><span class="o">:</span><span class="s2">&quot;#ffdead&quot;</span><span class="p">,</span><span class="nx">navy</span><span class="o">:</span><span class="s2">&quot;#000080&quot;</span><span class="p">,</span><span class="nx">oldlace</span><span class="o">:</span><span class="s2">&quot;#fdf5e6&quot;</span><span class="p">,</span><span class="nx">olive</span><span class="o">:</span><span class="s2">&quot;#808000&quot;</span><span class="p">,</span><span class="nx">olivedrab</span><span class="o">:</span><span class="s2">&quot;#6b8e23&quot;</span><span class="p">,</span><span class="nx">orange</span><span class="o">:</span><span class="s2">&quot;#ffa500&quot;</span><span class="p">,</span><span class="nx">orangered</span><span class="o">:</span><span class="s2">&quot;#ff4500&quot;</span><span class="p">,</span><span class="nx">orchid</span><span class="o">:</span><span class="s2">&quot;#da70d6&quot;</span><span class="p">,</span><span class="nx">palegoldenrod</span><span class="o">:</span><span class="s2">&quot;#eee8aa&quot;</span><span class="p">,</span><span class="nx">palegreen</span><span class="o">:</span><span class="s2">&quot;#98fb98&quot;</span><span class="p">,</span><span class="nx">paleturquoise</span><span class="o">:</span><span class="s2">&quot;#afeeee&quot;</span><span class="p">,</span><span class="nx">palevioletred</span><span class="o">:</span><span class="s2">&quot;#d87093&quot;</span><span class="p">,</span><span class="nx">papayawhip</span><span class="o">:</span><span class="s2">&quot;#ffefd5&quot;</span><span class="p">,</span><span class="nx">peachpuff</span><span class="o">:</span><span class="s2">&quot;#ffdab9&quot;</span><span class="p">,</span><span class="nx">peru</span><span class="o">:</span><span class="s2">&quot;#cd853f&quot;</span><span class="p">,</span><span class="nx">pink</span><span class="o">:</span><span class="s2">&quot;#ffc0cb&quot;</span><span class="p">,</span><span class="nx">plum</span><span class="o">:</span><span class="s2">&quot;#dda0dd&quot;</span><span class="p">,</span><span class="nx">powderblue</span><span class="o">:</span><span class="s2">&quot;#b0e0e6&quot;</span><span class="p">,</span><span class="nx">purple</span><span class="o">:</span><span class="s2">&quot;#800080&quot;</span><span class="p">,</span><span class="nx">red</span><span class="o">:</span><span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span><span class="nx">rosybrown</span><span class="o">:</span><span class="s2">&quot;#bc8f8f&quot;</span><span class="p">,</span><span class="nx">royalblue</span><span class="o">:</span><span class="s2">&quot;#4169e1&quot;</span><span class="p">,</span><span class="nx">saddlebrown</span><span class="o">:</span><span class="s2">&quot;#8b4513&quot;</span><span class="p">,</span><span class="nx">salmon</span><span class="o">:</span><span class="s2">&quot;#fa8072&quot;</span><span class="p">,</span><span class="nx">sandybrown</span><span class="o">:</span><span class="s2">&quot;#f4a460&quot;</span><span class="p">,</span><span class="nx">seagreen</span><span class="o">:</span><span class="s2">&quot;#2e8b57&quot;</span><span class="p">,</span><span class="nx">seashell</span><span class="o">:</span><span class="s2">&quot;#fff5ee&quot;</span><span class="p">,</span><span class="nx">sienna</span><span class="o">:</span><span class="s2">&quot;#a0522d&quot;</span><span class="p">,</span><span class="nx">silver</span><span class="o">:</span><span class="s2">&quot;#c0c0c0&quot;</span><span class="p">,</span><span class="nx">skyblue</span><span class="o">:</span><span class="s2">&quot;#87ceeb&quot;</span><span class="p">,</span><span class="nx">slateblue</span><span class="o">:</span><span class="s2">&quot;#6a5acd&quot;</span><span class="p">,</span><span class="nx">slategray</span><span class="o">:</span><span class="s2">&quot;#708090&quot;</span><span class="p">,</span><span class="nx">slategrey</span><span class="o">:</span><span class="s2">&quot;#708090&quot;</span><span class="p">,</span><span class="nx">snow</span><span class="o">:</span><span class="s2">&quot;#fffafa&quot;</span><span class="p">,</span><span class="nx">springgreen</span><span class="o">:</span><span class="s2">&quot;#00ff7f&quot;</span><span class="p">,</span><span class="nx">steelblue</span><span class="o">:</span><span class="s2">&quot;#4682b4&quot;</span><span class="p">,</span><span class="nx">tan</span><span class="o">:</span><span class="s2">&quot;#d2b48c&quot;</span><span class="p">,</span><span class="nx">teal</span><span class="o">:</span><span class="s2">&quot;#008080&quot;</span><span class="p">,</span><span class="nx">thistle</span><span class="o">:</span><span class="s2">&quot;#d8bfd8&quot;</span><span class="p">,</span><span class="nx">tomato</span><span class="o">:</span><span class="s2">&quot;#ff6347&quot;</span><span class="p">,</span><span class="nx">turquoise</span><span class="o">:</span><span class="s2">&quot;#40e0d0&quot;</span><span class="p">,</span><span class="nx">violet</span><span class="o">:</span><span class="s2">&quot;#ee82ee&quot;</span><span class="p">,</span><span class="nx">wheat</span><span class="o">:</span><span class="s2">&quot;#f5deb3&quot;</span><span class="p">,</span><span class="nx">white</span><span class="o">:</span><span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span><span class="nx">whitesmoke</span><span class="o">:</span><span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span><span class="nx">yellow</span><span class="o">:</span><span class="s2">&quot;#ffff00&quot;</span><span class="p">,</span><span class="nx">yellowgreen</span>
<span class="o">:</span><span class="s2">&quot;#9acd32&quot;</span><span class="p">}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;./tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Alpha</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Alpha</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;alpha(opacity=&quot;</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">e</span><span class="p">)),</span><span class="k">this</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="o">||</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">compare</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">)</span><span class="k">return</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(),</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">();</span><span class="k">return</span> <span class="nx">t</span><span class="o">===</span><span class="nx">n</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">n</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Assignment</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">key</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">t</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Assignment</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">key</span><span class="o">+</span><span class="s2">&quot;=&quot;</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">)},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="o">?</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Assignment</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span><span class="o">:</span><span class="k">this</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Call</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">args</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">filename</span><span class="o">=</span><span class="nx">r</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">args</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)}),</span><span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">e</span><span class="p">.</span><span class="nx">functions</span><span class="p">)</span><span class="k">try</span><span class="p">{</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">functions</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">functions</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">!=</span><span class="kc">null</span><span class="p">)</span><span class="k">return</span> <span class="nx">r</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">type</span><span class="o">||</span><span class="s2">&quot;Runtime&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;error evaluating function `&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;`&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">message</span><span class="o">?</span><span class="s2">&quot;: &quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">filename</span><span class="p">}}</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;(&quot;</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">t</span><span class="p">)}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">)},</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">toCSS</span><span class="p">()}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="o">=</span><span class="nx">e</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">6</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/.{2}/g</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">16</span><span class="p">)})</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="mi">16</span><span class="p">)}),</span><span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;rgba(&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">e</span><span class="p">)}).</span><span class="nx">concat</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="o">:</span><span class="s2">&quot;#&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">255</span><span class="o">?</span><span class="mi">255</span><span class="o">:</span><span class="nx">e</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">e</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;0&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">:</span><span class="nx">e</span><span class="p">}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">operate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="p">[];</span><span class="nx">n</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="o">||</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">toColor</span><span class="p">());</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">operate</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">n</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">alpha</span><span class="p">)},</span><span class="nx">toHSL</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="mi">255</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="nx">s</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">i</span><span class="o">-</span><span class="nx">s</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">===</span><span class="nx">s</span><span class="p">)</span><span class="nx">o</span><span class="o">=</span><span class="nx">u</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="nx">u</span><span class="o">=</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">5</span><span class="o">?</span><span class="nx">f</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="nx">i</span><span class="o">-</span><span class="nx">s</span><span class="p">)</span><span class="o">:</span><span class="nx">f</span><span class="o">/</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="nx">s</span><span class="p">);</span><span class="k">switch</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">case</span> <span class="nx">e</span><span class="o">:</span><span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="nx">t</span><span class="o">-</span><span class="nx">n</span><span class="p">)</span><span class="o">/</span><span class="nx">f</span><span class="o">+</span><span class="p">(</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">n</span><span class="o">?</span><span class="mi">6</span><span class="o">:</span><span class="mi">0</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="nx">t</span><span class="o">:</span><span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="nx">e</span><span class="p">)</span><span class="o">/</span><span class="nx">f</span><span class="o">+</span><span class="mi">2</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="nx">n</span><span class="o">:</span><span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">t</span><span class="p">)</span><span class="o">/</span><span class="nx">f</span><span class="o">+</span><span class="mi">4</span><span class="p">}</span><span class="nx">o</span><span class="o">/=</span><span class="mi">6</span><span class="p">}</span><span class="k">return</span><span class="p">{</span><span class="nx">h</span><span class="o">:</span><span class="nx">o</span><span class="o">*</span><span class="mi">360</span><span class="p">,</span><span class="nx">s</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">l</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">:</span><span class="nx">r</span><span class="p">}},</span><span class="nx">toARGB</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="o">*</span><span class="mi">255</span><span class="p">)].</span><span class="nx">concat</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">);</span><span class="k">return</span><span class="s2">&quot;#&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">255</span><span class="o">?</span><span class="mi">255</span><span class="o">:</span><span class="nx">e</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">e</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;0&quot;</span><span class="o">+</span><span class="nx">e</span><span class="o">:</span><span class="nx">e</span><span class="p">}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">compare</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">alpha</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">alpha</span><span class="o">?</span><span class="mi">0</span><span class="o">:-</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Comment</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">silent</span><span class="o">=!!</span><span class="nx">t</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Comment</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Condition</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">op</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">trim</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">lvalue</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rvalue</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">negate</span><span class="o">=</span><span class="nx">i</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Condition</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nb">eval</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">lvalue</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rvalue</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">switch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;and&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;or&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">t</span><span class="o">||</span><span class="nx">n</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">compare</span><span class="p">)</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">compare</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">compare</span><span class="p">)</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Type&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;Unable to perform comparison&quot;</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="nx">r</span><span class="p">};</span><span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">compare</span><span class="p">(</span><span class="nx">t</span><span class="p">)}</span><span class="k">switch</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">case</span><span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="k">return</span> <span class="nx">e</span><span class="o">===</span><span class="s2">&quot;&lt;&quot;</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;=&lt;&quot;</span><span class="p">;</span><span class="k">case</span> <span class="mi">0</span><span class="o">:</span><span class="k">return</span> <span class="nx">e</span><span class="o">===</span><span class="s2">&quot;=&quot;</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;&gt;=&quot;</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;=&lt;&quot;</span><span class="p">;</span><span class="k">case</span> <span class="mi">1</span><span class="o">:</span><span class="k">return</span> <span class="nx">e</span><span class="o">===</span><span class="s2">&quot;&gt;&quot;</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot;&gt;=&quot;</span><span class="p">}}}(</span><span class="k">this</span><span class="p">.</span><span class="nx">op</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">negate</span><span class="o">?!</span><span class="nx">i</span><span class="o">:</span><span class="nx">i</span><span class="p">}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">unit</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="kc">null</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">toColor</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">([</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">])},</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">unit</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">operate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">operate</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">unit</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">unit</span><span class="p">)},</span><span class="nx">compare</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">unit</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">unit</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">unit</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="o">:-</span><span class="mi">1</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Directive</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">([],</span><span class="nx">n</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nx">allowImports</span><span class="o">=!</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">n</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Directive</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nx">root</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;{&quot;</span><span class="o">:</span><span class="s2">&quot; {\n  &quot;</span><span class="p">)</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">).</span><span class="nx">trim</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">,</span><span class="s2">&quot;\n  &quot;</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;}&quot;</span><span class="o">:</span><span class="s2">&quot;\n}\n&quot;</span><span class="p">))</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;;\n&quot;</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Directive</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">ruleset</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">shift</span><span class="p">()),</span><span class="nx">n</span><span class="p">},</span><span class="nx">variable</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">variable</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">,</span><span class="nx">t</span><span class="p">)},</span><span class="nx">find</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)},</span><span class="nx">rulesets</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">rulesets</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">)}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">combinator</span><span class="o">=</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Combinator</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Combinator</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">typeof</span> <span class="nx">n</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span><span class="o">:</span><span class="nx">n</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">n</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">r</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nb">eval</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">combinator</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">)},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="k">return</span> <span class="nx">t</span><span class="o">==</span><span class="s2">&quot;&quot;</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">combinator</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">==</span><span class="s2">&quot;&amp;&quot;</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">combinator</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="o">||</span><span class="p">{})</span><span class="o">+</span><span class="nx">t</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Combinator</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">===</span><span class="s2">&quot; &quot;</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Combinator</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="o">:</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="s2">&quot;:&quot;</span><span class="o">:</span><span class="s2">&quot; :&quot;</span><span class="p">,</span><span class="s2">&quot;+&quot;</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;+&quot;</span><span class="o">:</span><span class="s2">&quot; + &quot;</span><span class="p">,</span><span class="s2">&quot;~&quot;</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;~&quot;</span><span class="o">:</span><span class="s2">&quot; ~ &quot;</span><span class="p">,</span><span class="s2">&quot;&gt;&quot;</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;&gt;&quot;</span><span class="o">:</span><span class="s2">&quot; &gt; &quot;</span><span class="p">,</span><span class="s2">&quot;|&quot;</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;|&quot;</span><span class="o">:</span><span class="s2">&quot; | &quot;</span><span class="p">}[</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">]}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Expression</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Expression</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Expression</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)}))</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">},</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Import</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">once</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_path</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="o">=</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="sr">/(\.[a-z]*$)|([\?;].*)$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">+</span><span class="s2">&quot;.less&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">value</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="o">=</span><span class="sr">/css([\?;].*)?$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">s</span><span class="p">),</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">.</span><span class="nx">once</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">skip</span><span class="o">=</span><span class="nx">r</span><span class="p">),</span><span class="nx">u</span><span class="p">.</span><span class="nx">root</span><span class="o">=</span><span class="nx">n</span><span class="o">||</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">([],[])})},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Import</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="o">?</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="o">?</span><span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">_path</span><span class="p">.</span><span class="nx">value</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;!</span><span class="sr">/^(?:[a-z-]+:|\/)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_path</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_path</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">_path</span><span class="p">.</span><span class="nx">value</span><span class="p">),</span><span class="s2">&quot;@import &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">_path</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">&quot;;\n&quot;</span><span class="p">)</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">skip</span><span class="o">?</span><span class="p">[]</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">css</span><span class="o">?</span><span class="k">this</span><span class="o">:</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">([],</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span><span class="nx">n</span><span class="p">.</span><span class="nx">evalImports</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="o">?</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Media</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">rules</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">rules</span><span class="p">)}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">JavaScript</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">escaped</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">t</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">JavaScript</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">{},</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">expression</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/@\{([\w-]+)\}/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">jsify</span><span class="p">((</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Variable</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">index</span><span class="p">)).</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">))});</span><span class="k">try</span><span class="p">{</span><span class="nx">s</span><span class="o">=</span><span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&quot;return (&quot;</span><span class="o">+</span><span class="nx">s</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span><span class="k">throw</span><span class="p">{</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;JavaScript evaluation error: `&quot;</span><span class="o">+</span><span class="nx">s</span><span class="o">+</span><span class="s2">&quot;`&quot;</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">}}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">u</span> <span class="k">in</span> <span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">variables</span><span class="p">())</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">variables</span><span class="p">()[</span><span class="nx">u</span><span class="p">].</span><span class="nx">value</span><span class="p">,</span><span class="nx">toJS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">toCSS</span><span class="p">()}};</span><span class="k">try</span><span class="p">{</span><span class="nx">n</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span><span class="k">throw</span><span class="p">{</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;JavaScript evaluation error: &#39;&quot;</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;: &quot;</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">message</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">}}</span><span class="k">return</span> <span class="k">typeof</span> <span class="nx">n</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">escaped</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">)</span><span class="o">:</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">?</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">))</span><span class="o">:</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nx">n</span><span class="p">)}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Keyword</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Keyword</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">},</span><span class="nx">compare</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Keyword</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">}},</span><span class="nx">e</span><span class="p">.</span><span class="nx">True</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Keyword</span><span class="p">(</span><span class="s2">&quot;true&quot;</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">False</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Keyword</span><span class="p">(</span><span class="s2">&quot;false&quot;</span><span class="p">)}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Media</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">emptySelectors</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nx">allowImports</span><span class="o">=!</span><span class="mi">0</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Media</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nx">root</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="o">||</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">multiMedia</span><span class="p">,</span><span class="s2">&quot;@media &quot;</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;{&quot;</span><span class="o">:</span><span class="s2">&quot; {\n  &quot;</span><span class="p">)</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">).</span><span class="nx">trim</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">,</span><span class="s2">&quot;\n  &quot;</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;}&quot;</span><span class="o">:</span><span class="s2">&quot;\n}\n&quot;</span><span class="p">)},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="o">=</span><span class="p">[],</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaPath</span><span class="o">=</span><span class="p">[]);</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Media</span><span class="p">([],[]);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">features</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaPath</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">ruleset</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaPath</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaPath</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">evalTop</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">evalNested</span><span class="p">(</span><span class="nx">t</span><span class="p">)},</span><span class="nx">variable</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">variable</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">,</span><span class="nx">t</span><span class="p">)},</span><span class="nx">find</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)},</span><span class="nx">rulesets</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">rulesets</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">)},</span><span class="nx">emptySelectors</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="k">return</span><span class="p">[</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">([</span><span class="nx">t</span><span class="p">])]},</span><span class="nx">evalTop</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">emptySelectors</span><span class="p">();</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">multiMedia</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="k">return</span> <span class="k">delete</span> <span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">,</span><span class="k">delete</span> <span class="nx">t</span><span class="p">.</span><span class="nx">mediaPath</span><span class="p">,</span><span class="nx">n</span><span class="p">},</span><span class="nx">evalNested</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaPath</span><span class="p">.</span><span class="nx">concat</span><span class="p">([</span><span class="k">this</span><span class="p">]);</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">r</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">features</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="o">?</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">features</span><span class="p">.</span><span class="nx">value</span><span class="o">:</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">features</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="o">?</span><span class="nx">r</span><span class="o">:</span><span class="p">[</span><span class="nx">r</span><span class="p">];</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">features</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">permute</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="nx">t</span><span class="p">)});</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">n</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">--</span><span class="p">)</span><span class="nx">t</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Anonymous</span><span class="p">(</span><span class="s2">&quot;and&quot;</span><span class="p">));</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Expression</span><span class="p">(</span><span class="nx">t</span><span class="p">)})),</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">([],[])},</span><span class="nx">permute</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">permute</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">]].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">r</span><span class="p">]));</span><span class="k">return</span> <span class="nx">t</span><span class="p">},</span><span class="nx">bubbleSelectors</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">),[</span><span class="k">this</span><span class="p">.</span><span class="nx">ruleset</span><span class="p">])}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="o">=</span><span class="p">{},</span><span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Call</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">arguments</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">filename</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">important</span><span class="o">=</span><span class="nx">s</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Call</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="p">[],</span><span class="nx">o</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">c</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">arguments</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)}});</span><span class="k">for</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">u</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">u</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">((</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="nx">u</span><span class="p">].</span><span class="nx">find</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="p">)).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="nx">c</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">a</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">a</span><span class="o">++</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">a</span><span class="p">],</span><span class="nx">l</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">r</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Definition</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="o">===</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">originalRuleset</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="nx">f</span><span class="p">])){</span><span class="nx">l</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span><span class="k">continue</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">matchArgs</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">t</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="p">.</span><span class="nx">matchCondition</span><span class="o">||</span><span class="nx">r</span><span class="p">.</span><span class="nx">matchCondition</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">t</span><span class="p">))</span><span class="k">try</span><span class="p">{</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">important</span><span class="p">).</span><span class="nx">rules</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">h</span><span class="p">){</span><span class="k">throw</span><span class="p">{</span><span class="nx">message</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">filename</span><span class="p">,</span><span class="nx">stack</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">stack</span><span class="p">}}</span><span class="nx">o</span><span class="o">=!</span><span class="mi">0</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="k">return</span> <span class="nx">s</span><span class="p">}</span><span class="k">throw</span> <span class="nx">c</span><span class="o">?</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Runtime&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;No matching definition was found for `&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">().</span><span class="nx">trim</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;(&quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">name</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">+=</span><span class="nx">e</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;:&quot;</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">?</span><span class="nx">t</span><span class="o">+=</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">:</span><span class="nx">t</span><span class="o">+=</span><span class="s2">&quot;???&quot;</span><span class="p">,</span><span class="nx">t</span><span class="p">}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;)`&quot;</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">filename</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">selector</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">().</span><span class="nx">trim</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot; is undefined&quot;</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">filename</span><span class="p">}}},</span><span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Definition</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">selectors</span><span class="o">=</span><span class="p">[</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">([</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">t</span><span class="p">)])],</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">condition</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">variadic</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">arity</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_lookups</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">required</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="nx">t</span><span class="p">.</span><span class="nx">name</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">name</span><span class="o">&amp;&amp;!</span><span class="nx">t</span><span class="p">.</span><span class="nx">value</span><span class="o">?</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="o">:</span><span class="nx">e</span><span class="p">},</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">frames</span><span class="o">=</span><span class="p">[]},</span><span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Definition</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;&quot;</span><span class="p">},</span><span class="nx">variable</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">variable</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)},</span><span class="nx">variables</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">variables</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)},</span><span class="nx">find</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">find</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)},</span><span class="nx">rulesets</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">rulesets</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">)},</span><span class="nx">evalParams</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="kc">null</span><span class="p">,[]),</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span><span class="nx">r</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">){</span><span class="nx">u</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">f</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">u</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">.</span><span class="nx">name</span><span class="p">){</span><span class="nx">p</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">i</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="o">===</span><span class="nx">a</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">name</span><span class="p">){</span><span class="nx">i</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">u</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">))),</span><span class="nx">p</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">p</span><span class="p">){</span><span class="nx">r</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">f</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">f</span><span class="o">--</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Runtime&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;Named argument for &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">r</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot; not found&quot;</span><span class="p">}}}}</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="p">])</span><span class="k">continue</span><span class="p">;</span><span class="nx">u</span><span class="o">=</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">[</span><span class="nx">d</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">name</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">variadic</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">));</span><span class="nx">s</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="nx">h</span><span class="p">,(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Expression</span><span class="p">(</span><span class="nx">o</span><span class="p">)).</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)))}</span><span class="k">else</span><span class="p">{</span><span class="nx">c</span><span class="o">=</span><span class="nx">u</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">value</span><span class="p">)</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Runtime&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;wrong number of arguments for &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot; (&quot;</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="s2">&quot; for &quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">arity</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">};</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">n</span><span class="p">)}</span><span class="nx">s</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">c</span><span class="p">)),</span><span class="nx">i</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">f</span><span class="p">].</span><span class="nx">variadic</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">d</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="nx">i</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="nx">d</span><span class="o">++</span><span class="p">}</span><span class="k">return</span> <span class="nx">s</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="p">[],</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">evalParams</span><span class="p">(</span><span class="nx">t</span><span class="p">,{</span><span class="nx">frames</span><span class="o">:</span><span class="nx">s</span><span class="p">},</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="s2">&quot;@arguments&quot;</span><span class="p">,(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Expression</span><span class="p">(</span><span class="nx">i</span><span class="p">)).</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">))),</span><span class="nx">a</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">makeImportant</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">rules</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="nx">l</span><span class="o">=</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="p">)).</span><span class="nb">eval</span><span class="p">({</span><span class="nx">frames</span><span class="o">:</span><span class="p">[</span><span class="k">this</span><span class="p">,</span><span class="nx">o</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">s</span><span class="p">)}),</span><span class="nx">l</span><span class="p">.</span><span class="nx">originalRuleset</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">l</span><span class="p">},</span><span class="nx">matchCondition</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">condition</span><span class="o">&amp;&amp;!</span><span class="k">this</span><span class="p">.</span><span class="nx">condition</span><span class="p">.</span><span class="nb">eval</span><span class="p">({</span><span class="nx">frames</span><span class="o">:</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">evalParams</span><span class="p">(</span><span class="nx">t</span><span class="p">,{</span><span class="nx">frames</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">)},</span><span class="nx">e</span><span class="p">,[])].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">)})</span><span class="o">?!</span><span class="mi">1</span><span class="o">:!</span><span class="mi">0</span><span class="p">},</span><span class="nx">matchArgs</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">variadic</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">required</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">required</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}</span><span class="nx">r</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">arity</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">name</span><span class="o">&amp;&amp;!</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">variadic</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">params</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">toCSS</span><span class="p">())</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Operation</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">op</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">trim</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">operands</span><span class="o">=</span><span class="nx">t</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Operation</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nb">eval</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">operands</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">operands</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Dimension</span><span class="o">&amp;&amp;</span><span class="nx">r</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">op</span><span class="o">!==</span><span class="s2">&quot;*&quot;</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">op</span><span class="o">!==</span><span class="s2">&quot;+&quot;</span><span class="p">)</span><span class="k">throw</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s2">&quot;OperationError&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;Can&#39;t substract or divide a color from a number&quot;</span><span class="p">};</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">operate</span><span class="p">)</span><span class="k">throw</span><span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s2">&quot;OperationError&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;Operation on an invalid type&quot;</span><span class="p">};</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">operate</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">op</span><span class="p">,</span><span class="nx">r</span><span class="p">)},</span><span class="nx">e</span><span class="p">.</span><span class="nx">operate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">switch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;+&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">t</span><span class="o">+</span><span class="nx">n</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;-&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">t</span><span class="o">-</span><span class="nx">n</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;*&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">t</span><span class="o">*</span><span class="nx">n</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;/&quot;</span><span class="o">:</span><span class="k">return</span> <span class="nx">t</span><span class="o">/</span><span class="nx">n</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Paren</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Paren</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;(&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Paren</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">))}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">escaped</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">quote</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">r</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">escaped</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">quote</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">quote</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/`([^`]+)`/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">JavaScript</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)).</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">value</span><span class="p">}).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/@\{([\w-]+)\}/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Variable</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">index</span><span class="p">)).</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">s</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">value</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()});</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Quoted</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">quote</span><span class="o">+</span><span class="nx">r</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">quote</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">escaped</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">)},</span><span class="nx">compare</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">)</span><span class="k">return</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(),</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">();</span><span class="k">return</span> <span class="nx">t</span><span class="o">===</span><span class="nx">n</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">n</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Ratio</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Ratio</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">n</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="o">?</span><span class="nx">n</span><span class="o">:</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="p">([</span><span class="nx">n</span><span class="p">]),</span><span class="k">this</span><span class="p">.</span><span class="nx">important</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">inline</span><span class="o">=</span><span class="nx">s</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;@&quot;</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">variable</span><span class="o">=!</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">variable</span><span class="o">=!</span><span class="mi">1</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">variable</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;:&quot;</span><span class="o">:</span><span class="s2">&quot;: &quot;</span><span class="p">)</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">important</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">inline</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;;&quot;</span><span class="p">)},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nb">eval</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">important</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">inline</span><span class="p">)},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">makeImportant</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="s2">&quot;!important&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">inline</span><span class="p">)},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Shorthand</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="nx">t</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Shorthand</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;/&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">selectors</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_lookups</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">strictImports</span><span class="o">=</span><span class="nx">n</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">selectors</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">selectors</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)}),</span><span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">strictImports</span><span class="p">),</span><span class="nx">i</span><span class="p">;</span><span class="nx">r</span><span class="p">.</span><span class="nx">originalRuleset</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">root</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">allowImports</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">allowImports</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">r</span><span class="p">),(</span><span class="nx">r</span><span class="p">.</span><span class="nx">root</span><span class="o">||</span><span class="nx">r</span><span class="p">.</span><span class="nx">allowImports</span><span class="o">||!</span><span class="nx">r</span><span class="p">.</span><span class="nx">strictImports</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">evalImports</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Definition</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">frames</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Call</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">,[</span><span class="nx">s</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">i</span><span class="p">)),</span><span class="nx">s</span><span class="o">+=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">resetCache</span><span class="p">());</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">u</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">s</span><span class="p">],</span><span class="nx">u</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Definition</span><span class="o">||</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nb">eval</span><span class="o">?</span><span class="nx">u</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">u</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">t</span><span class="p">.</span><span class="nx">mediaBlocks</span><span class="p">[</span><span class="nx">s</span><span class="p">].</span><span class="nx">bubbleSelectors</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span> <span class="nx">r</span><span class="p">},</span><span class="nx">evalImports</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Import</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">typeof</span> <span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="s2">&quot;number&quot;</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">,[</span><span class="nx">n</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">r</span><span class="p">)),</span><span class="nx">n</span><span class="o">+=</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">resetCache</span><span class="p">())},</span><span class="nx">makeImportant</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selectors</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">makeImportant</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">makeImportant</span><span class="p">()</span><span class="o">:</span><span class="nx">e</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">strictImports</span><span class="p">)},</span><span class="nx">matchArgs</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="nx">e</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">0</span><span class="p">},</span><span class="nx">resetCache</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">_rulesets</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_variables</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_lookups</span><span class="o">=</span><span class="p">{}},</span><span class="nx">variables</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_variables</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_variables</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">_variables</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Rule</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">variable</span><span class="o">===!</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">),</span><span class="nx">t</span><span class="p">},{})},</span><span class="nx">variable</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">variables</span><span class="p">()[</span><span class="nx">e</span><span class="p">]},</span><span class="nx">rulesets</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_rulesets</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_rulesets</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">_rulesets</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Ruleset</span><span class="o">||</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">mixin</span><span class="p">.</span><span class="nx">Definition</span><span class="p">})},</span><span class="nx">find</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="nx">n</span><span class="o">=</span><span class="nx">n</span><span class="o">||</span><span class="k">this</span><span class="p">;</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="p">[],</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">();</span><span class="k">return</span> <span class="nx">o</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">_lookups</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_lookups</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">:</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rulesets</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">!==</span><span class="nx">n</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">selectors</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">selectors</span><span class="p">[</span><span class="nx">o</span><span class="p">])){</span><span class="nx">t</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">selectors</span><span class="p">[</span><span class="nx">o</span><span class="p">].</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span><span class="nx">n</span><span class="p">))</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">break</span><span class="p">}}),</span><span class="k">this</span><span class="p">.</span><span class="nx">_lookups</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">)},</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="p">[],</span><span class="nx">i</span><span class="o">=</span><span class="p">[],</span><span class="nx">s</span><span class="o">=</span><span class="p">[],</span><span class="nx">o</span><span class="o">=</span><span class="p">[],</span><span class="nx">u</span><span class="o">=</span><span class="p">[],</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">joinSelectors</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">selectors</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">){</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rules</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">rules</span><span class="o">||</span><span class="nx">l</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Media</span><span class="p">)</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="nx">n</span><span class="p">));</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">l</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Directive</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">name</span><span class="o">===</span><span class="s2">&quot;@charset&quot;</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">charset</span><span class="p">){</span><span class="nx">l</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">l</span><span class="p">)),</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">((</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Comment</span><span class="p">(</span><span class="s2">&quot;/* &quot;</span><span class="o">+</span><span class="nx">h</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\n/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; */\n&quot;</span><span class="p">)).</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">n</span><span class="p">)));</span><span class="k">continue</span><span class="p">}</span><span class="nx">n</span><span class="p">.</span><span class="nx">charset</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">)}</span><span class="k">else</span> <span class="nx">l</span> <span class="k">instanceof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Comment</span><span class="o">?</span><span class="nx">l</span><span class="p">.</span><span class="nx">silent</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="o">?</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">n</span><span class="p">))</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">n</span><span class="p">)))</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">.</span><span class="nx">variable</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">n</span><span class="p">))</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">value</span><span class="o">&amp;&amp;!</span><span class="nx">l</span><span class="p">.</span><span class="nx">variable</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toString</span><span class="p">())}</span><span class="nx">o</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">)</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;\n&quot;</span><span class="p">));</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">n</span><span class="p">)}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">trim</span><span class="p">()}).</span><span class="nx">join</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;,&quot;</span><span class="o">:</span><span class="s2">&quot;,\n&quot;</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">c</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="nx">c</span><span class="o">--</span><span class="p">)</span><span class="nx">s</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">])</span><span class="o">===-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">c</span><span class="p">]);</span><span class="nx">i</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;{&quot;</span><span class="o">:</span><span class="s2">&quot; {\n  &quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;\n  &quot;</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;}&quot;</span><span class="o">:</span><span class="s2">&quot;\n}\n&quot;</span><span class="p">))}</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;\n&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">)},</span><span class="nx">joinSelectors</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">joinSelector</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">[</span><span class="nx">r</span><span class="p">])},</span><span class="nx">joinSelector</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">v</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">y</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">f</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span><span class="nx">f</span><span class="p">.</span><span class="nx">value</span><span class="o">===</span><span class="s2">&quot;&amp;&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">u</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">r</span><span class="p">));</span><span class="k">else</span> <span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">r</span><span class="p">]);</span><span class="k">return</span><span class="p">}</span><span class="nx">g</span><span class="o">=</span><span class="p">[],</span><span class="nx">a</span><span class="o">=</span><span class="p">[[]];</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">value</span><span class="o">!==</span><span class="s2">&quot;&amp;&quot;</span><span class="p">)</span><span class="nx">g</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="nx">y</span><span class="o">=</span><span class="p">[],</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">mergeElementsOnToSelectors</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">){</span><span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">s</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="nx">l</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">elements</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">elements</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">combinator</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">))),</span><span class="nx">y</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">l</span><span class="p">);</span><span class="k">else</span> <span class="k">for</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="p">[],</span><span class="nx">p</span><span class="o">=</span><span class="p">[],</span><span class="nx">v</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="nx">m</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">pop</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span><span class="nx">v</span><span class="o">=!</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">d</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">([]),</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">=</span><span class="nx">p</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">))),</span><span class="nx">c</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">v</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Element</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">combinator</span><span class="p">,</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">value</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span><span class="nx">d</span><span class="p">.</span><span class="nx">elements</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">))),</span><span class="nx">v</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">p</span><span class="p">),</span><span class="nx">y</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">)}</span><span class="nx">a</span><span class="o">=</span><span class="nx">y</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[]}}</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">mergeElementsOnToSelectors</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">t</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">])},</span><span class="nx">mergeElementsOnToSelectors</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">t</span><span class="p">)]);</span><span class="k">return</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">)</span><span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">i</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">elements</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="nx">t</span><span class="p">))}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">match</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">value</span><span class="o">===</span><span class="s2">&quot;&amp;&quot;</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">===</span><span class="mi">0</span><span class="o">||</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">s</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="nx">o</span><span class="p">].</span><span class="nx">value</span><span class="o">!==</span><span class="nx">r</span><span class="p">[</span><span class="nx">o</span><span class="p">].</span><span class="nx">value</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nb">eval</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)}))},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Selector</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toCSS</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_css</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_css</span><span class="o">:</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">combinator</span><span class="p">.</span><span class="nx">value</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_css</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">_css</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_css</span><span class="o">+=</span><span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">typeof</span> <span class="nx">t</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">?</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_css</span><span class="p">)}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">UnicodeDescriptor</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">UnicodeDescriptor</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">URL</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rootpath</span><span class="o">=</span><span class="nx">t</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="s2">&quot;url(&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">},</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">r</span><span class="p">;</span><span class="k">return</span> <span class="k">typeof</span> <span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="o">&amp;&amp;!</span><span class="sr">/^(?:[a-z-]+:|\/)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rootpath</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">quote</span><span class="o">||</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[\(\)&#39;&quot;\s]/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;\\&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">})),</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">r</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">value</span><span class="p">),</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">URL</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rootpath</span><span class="p">)}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">is</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="o">===</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Value</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)}))},</span><span class="nx">toCSS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="nx">e</span><span class="p">)}).</span><span class="nx">join</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">compress</span><span class="o">?</span><span class="s2">&quot;,&quot;</span><span class="o">:</span><span class="s2">&quot;, &quot;</span><span class="p">)}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">Variable</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">file</span><span class="o">=</span><span class="nx">n</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">Variable</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nb">eval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;@@&quot;</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="s2">&quot;@&quot;</span><span class="o">+</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Variable</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">))).</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">value</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">evaluating</span><span class="p">)</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;Recursive variable definition for &quot;</span><span class="o">+</span><span class="nx">i</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">file</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">};</span><span class="k">this</span><span class="p">.</span><span class="nx">evaluating</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frames</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">variable</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="nx">t</span><span class="p">)}))</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">evaluating</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="k">throw</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span><span class="nx">message</span><span class="o">:</span><span class="s2">&quot;variable &quot;</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">&quot; is undefined&quot;</span><span class="p">,</span><span class="nx">filename</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">file</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">}}}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;../tree&quot;</span><span class="p">)),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="o">&amp;&amp;!</span><span class="nx">t</span><span class="p">.</span><span class="nx">compress</span><span class="p">)</span><span class="k">switch</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;comments&quot;</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">asComment</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;mediaquery&quot;</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">asMediaQuery</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;all&quot;</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">asComment</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">asMediaQuery</span><span class="p">(</span><span class="nx">n</span><span class="p">)}</span><span class="k">return</span> <span class="nx">r</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">asComment</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;/* line &quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">lineNumber</span><span class="o">+</span><span class="s2">&quot;, &quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">fileName</span><span class="o">+</span><span class="s2">&quot; */\n&quot;</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">asMediaQuery</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;@media -sass-debug-info{filename{font-family:&quot;</span><span class="o">+</span><span class="p">(</span><span class="s2">&quot;file://&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">fileName</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[\/:.]/g</span><span class="p">,</span><span class="s2">&quot;\\$&amp;&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;}line{font-family:\\00003&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">debugInfo</span><span class="p">.</span><span class="nx">lineNumber</span><span class="o">+</span><span class="s2">&quot;}}\n&quot;</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">find</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="nx">n</span><span class="p">]))</span><span class="k">return</span> <span class="nx">r</span><span class="p">;</span><span class="k">return</span> <span class="kc">null</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">jsify</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">)}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;]&quot;</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">)}}(</span><span class="nx">n</span><span class="p">(</span><span class="s2">&quot;./tree&quot;</span><span class="p">));</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="sr">/^(file|chrome(-extension)?|resource|qrc|app):/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span><span class="p">);</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">||</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="o">==</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="o">||</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="o">==</span><span class="s2">&quot;0.0.0.0&quot;</span><span class="o">||</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="o">==</span><span class="s2">&quot;localhost&quot;</span><span class="o">||</span><span class="nx">location</span><span class="p">.</span><span class="nx">port</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">||</span><span class="nx">o</span><span class="o">?</span><span class="s2">&quot;development&quot;</span><span class="o">:</span><span class="s2">&quot;production&quot;</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">async</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">fileAsync</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">fileAsync</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">poll</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">poll</span><span class="o">||</span><span class="p">(</span><span class="nx">o</span><span class="o">?</span><span class="mi">1</span><span class="nx">e3</span><span class="o">:</span><span class="mi">1500</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">functions</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">u</span> <span class="k">in</span> <span class="nx">r</span><span class="p">.</span><span class="nx">functions</span><span class="p">)</span><span class="nx">r</span><span class="p">.</span><span class="nx">tree</span><span class="p">.</span><span class="nx">functions</span><span class="p">[</span><span class="nx">u</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">functions</span><span class="p">[</span><span class="nx">u</span><span class="p">];</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="sr">/!dumpLineNumbers:(comments|mediaquery|all)/</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">);</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">dumpLineNumbers</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nx">r</span><span class="p">.</span><span class="nx">watch</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">watchMode</span><span class="o">||</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">=</span><span class="s2">&quot;development&quot;</span><span class="p">,</span><span class="nx">f</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">watchMode</span><span class="o">=!</span><span class="mi">0</span><span class="p">},</span><span class="nx">r</span><span class="p">.</span><span class="nx">unwatch</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">watchTimer</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">watchMode</span><span class="o">=!</span><span class="mi">1</span><span class="p">},</span><span class="sr">/!watch/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">watch</span><span class="p">();</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">!=</span><span class="s2">&quot;development&quot;</span><span class="p">)</span><span class="k">try</span><span class="p">{</span><span class="nx">l</span><span class="o">=</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">.</span><span class="nx">localStorage</span><span class="o">==</span><span class="s2">&quot;undefined&quot;</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">c</span><span class="p">){}</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^text\/(x-)?less$/</span><span class="p">;</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheets</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">d</span><span class="o">++</span><span class="p">)(</span><span class="nx">h</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">rel</span><span class="o">===</span><span class="s2">&quot;stylesheet/less&quot;</span><span class="o">||</span><span class="nx">h</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">rel</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/stylesheet/</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">[</span><span class="nx">d</span><span class="p">].</span><span class="nx">type</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">p</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">d</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="nx">r</span><span class="p">.</span><span class="nx">modifyVars</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">v</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">e</span><span class="p">)</span><span class="nx">t</span><span class="o">+=</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;@&quot;</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;@&quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">name</span><span class="o">+</span><span class="s2">&quot;: &quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">name</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;;&quot;</span><span class="o">?</span><span class="nx">e</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">:</span><span class="nx">e</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;;&quot;</span><span class="p">);(</span><span class="k">new</span> <span class="nx">r</span><span class="p">.</span><span class="nx">Parser</span><span class="p">).</span><span class="nx">parse</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">S</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(),</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">])})},</span><span class="nx">r</span><span class="p">.</span><span class="nx">refresh</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">,</span><span class="nx">g</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">){</span><span class="nx">o</span><span class="p">.</span><span class="nx">local</span><span class="o">?</span><span class="nx">C</span><span class="p">(</span><span class="s2">&quot;loading &quot;</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">&quot; from cache.&quot;</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">C</span><span class="p">(</span><span class="s2">&quot;parsed &quot;</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">&quot; successfully.&quot;</span><span class="p">),</span><span class="nx">S</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">toCSS</span><span class="p">(),</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">lastModified</span><span class="p">)),</span><span class="nx">C</span><span class="p">(</span><span class="s2">&quot;css for &quot;</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">&quot; generated in &quot;</span><span class="o">+</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="o">-</span><span class="nx">n</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;ms&quot;</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">remaining</span><span class="o">===</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">C</span><span class="p">(</span><span class="s2">&quot;css generated in &quot;</span><span class="o">+</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="o">-</span><span class="nx">t</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;ms&quot;</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">},</span><span class="nx">e</span><span class="p">),</span><span class="nx">m</span><span class="p">()},</span><span class="nx">r</span><span class="p">.</span><span class="nx">refreshStyles</span><span class="o">=</span><span class="nx">m</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">refresh</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">env</span><span class="o">===</span><span class="s2">&quot;development&quot;</span><span class="p">),</span><span class="k">typeof</span> <span class="nx">define</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="o">&amp;&amp;</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;less&quot;</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">r</span><span class="p">})})(</span><span class="nb">window</span><span class="p">);</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
